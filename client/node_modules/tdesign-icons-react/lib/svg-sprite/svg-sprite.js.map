{"version":3,"sources":["svg-sprite/svg-sprite.jsx","svg-sprite/svg-sprite.tsx"],"names":["Object","defineProperty","exports","value","Icon","tslib_1","require","React","__importStar","react_1","classnames_1","__importDefault","use_config_1","use_size_props_1","check_url_and_load_1","CDN_SVGSPRITE_URL","forwardRef","props","ref","classPrefix","name","size","_a","url","_b","loadDefaultIcons","customClassName","className","customStyle","style","restProps","__rest","_c","sizeClassName","sizeStyle","useMemo","useEffect","document","checkScriptAndLoad","urls","Array","isArray","forEach","__assign","displayName"],"mappings":"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","file":"svg-sprite.js","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Icon = void 0;\nvar tslib_1 = require(\"tslib\");\n// eslint-disable-next-line no-use-before-define\nvar React = tslib_1.__importStar(require(\"react\"));\nvar react_1 = require(\"react\");\nvar classnames_1 = tslib_1.__importDefault(require(\"classnames\"));\nvar use_config_1 = tslib_1.__importDefault(require(\"../util/use-config\"));\nvar use_size_props_1 = tslib_1.__importDefault(require(\"../iconfont/use-size-props\"));\nvar check_url_and_load_1 = require(\"../util/check-url-and-load\");\nrequire(\"../style/index.css\");\nvar CDN_SVGSPRITE_URL = 'https://tdesign.gtimg.com/icon/0.0.3/fonts/index.js';\n/**\n * 图标组件\n * svg 版本\n */\nexports.Icon = react_1.forwardRef(function (props, ref) {\n    var classPrefix = use_config_1.default().classPrefix;\n    var name = props.name, size = props.size, _a = props.url, url = _a === void 0 ? [] : _a, _b = props.loadDefaultIcons, loadDefaultIcons = _b === void 0 ? true : _b, customClassName = props.className, customStyle = props.style, restProps = tslib_1.__rest(props, [\"name\", \"size\", \"url\", \"loadDefaultIcons\", \"className\", \"style\"]);\n    var _c = use_size_props_1.default(size || 'middle'), sizeClassName = _c.className, sizeStyle = _c.style;\n    var className = react_1.useMemo(function () {\n        // eslint-disable-next-line implicit-arrow-linebreak\n        return classnames_1.default(classPrefix + \"-icon\", classPrefix + \"-icon-\" + name, sizeClassName, customClassName);\n    }, [classPrefix, customClassName, name, sizeClassName]);\n    // 插入 iconfont 样式\n    react_1.useEffect(function () {\n        // 兼容一下服务端渲染\n        if (typeof document === 'undefined') {\n            return;\n        }\n        // 不加载图标\n        if (!loadDefaultIcons) {\n            return;\n        }\n        check_url_and_load_1.checkScriptAndLoad(CDN_SVGSPRITE_URL, classPrefix + \"-svg-js-stylesheet--unique-class\");\n    }, [classPrefix, loadDefaultIcons]);\n    // 加载 url\n    react_1.useEffect(function () {\n        var urls = Array.isArray(url) ? url : [url];\n        urls.forEach(function (url) {\n            check_url_and_load_1.checkScriptAndLoad(url, classPrefix + \"-svg-js-stylesheet--unique-class\");\n        });\n    }, [classPrefix, url]);\n    return (<svg ref={ref} className={className} style={tslib_1.__assign(tslib_1.__assign({}, customStyle), sizeStyle)} {...restProps}>\n      <use xlinkHref={\"#t-icon-\" + name}/>\n    </svg>);\n});\nexports.Icon.displayName = 'Icon';\n","// eslint-disable-next-line no-use-before-define\nimport * as React from 'react';\nimport {\n  forwardRef, Ref, useEffect, useMemo, CSSProperties,\n} from 'react';\nimport classNames from 'classnames';\nimport useConfig from '../util/use-config';\nimport useSizeProps from '../iconfont/use-size-props';\nimport { checkScriptAndLoad } from '../util/check-url-and-load';\n\nimport { IconProps as BaseIconProps } from './type';\n\nimport '../style/index.css';\n\nexport interface SpriteIconProps extends BaseIconProps {\n  /**\n   * 图标类型\n   */\n  name?: string;\n\n  /**\n   * 图标地址\n   */\n  url?: string | string[];\n\n  /**\n   * @default true\n   */\n  loadDefaultIcons?: boolean;\n\n  /**\n   * 样式\n   */\n  style?: CSSProperties;\n\n  /**\n   * 类名\n   */\n  className?: string;\n}\n\nconst CDN_SVGSPRITE_URL = 'https://tdesign.gtimg.com/icon/0.0.3/fonts/index.js';\n\n/**\n * 图标组件\n * svg 版本\n */\nexport const Icon = forwardRef((props: SpriteIconProps, ref: Ref<SVGSVGElement>) => {\n  const { classPrefix } = useConfig();\n  const {\n    name,\n    size,\n    url = [],\n    loadDefaultIcons = true,\n    className: customClassName,\n    style: customStyle,\n    ...restProps\n  } = props;\n  const { className: sizeClassName, style: sizeStyle } = useSizeProps(size || 'middle');\n  const className = useMemo(\n    () =>\n      // eslint-disable-next-line implicit-arrow-linebreak\n      classNames(`${classPrefix}-icon`, `${classPrefix}-icon-${name}`, sizeClassName, customClassName),\n    [classPrefix, customClassName, name, sizeClassName],\n  );\n\n  // 插入 iconfont 样式\n  useEffect(() => {\n    // 兼容一下服务端渲染\n    if (typeof document === 'undefined') {\n      return;\n    }\n\n    // 不加载图标\n    if (!loadDefaultIcons) {\n      return;\n    }\n\n    checkScriptAndLoad(CDN_SVGSPRITE_URL, `${classPrefix}-svg-js-stylesheet--unique-class`);\n  }, [classPrefix, loadDefaultIcons]);\n\n  // 加载 url\n  useEffect(() => {\n    const urls = Array.isArray(url) ? url : [url];\n    urls.forEach((url) => {\n      checkScriptAndLoad(url, `${classPrefix}-svg-js-stylesheet--unique-class`);\n    });\n  }, [classPrefix, url]);\n\n  return (\n    <svg ref={ref} className={className} style={{ ...customStyle, ...sizeStyle }} {...restProps}>\n      <use xlinkHref={`#t-icon-${name}`} />\n    </svg>\n  );\n});\n\nIcon.displayName = 'Icon';\n"]}