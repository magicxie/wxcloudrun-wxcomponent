{"version":3,"file":"useClickOutside.js","sources":["../../src/_util/useClickOutside.ts"],"sourcesContent":["import { MutableRefObject, useEffect } from 'react';\n\nexport default function useClickOutside<T extends HTMLElement>(\n  refs: MutableRefObject<T>[],\n  handler: (event: MouseEvent | TouchEvent) => void,\n) {\n  useEffect(() => {\n    const listener = (event) => {\n      // Do nothing if clicking ref's element or descendent elements\n      if (!Array.isArray(refs) || refs.find((ref) => ref.current?.contains(event.target))) {\n        return;\n      }\n      handler(event);\n    };\n    // todo: pointerdown， jsdom 暂未实现 pointer 事件，后续加上后可以改进.\n    document.addEventListener('mousedown', listener);\n    document.addEventListener('touchstart', listener);\n    return () => {\n      document.removeEventListener('mousedown', listener);\n      document.removeEventListener('touchstart', listener);\n    };\n  }, [refs, handler]);\n}\n"],"names":["useClickOutside","refs","handler","useEffect","listener","event","Array","isArray","find","ref","current","contains","target","document","addEventListener","removeEventListener"],"mappings":";;;;;;;;;;;;AACe,SAASA,eAAT,CAAyBC,IAAzB,EAA+BC,OAA/B,EAAwC;AACrDC,EAAAA,eAAS,CAAC,YAAM;AACd,QAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,KAAD,EAAW;AAC1B,UAAI,CAACC,KAAK,CAACC,OAAN,CAAcN,IAAd,CAAD,IAAwBA,IAAI,CAACO,IAAL,CAAU,UAACC,GAAD;AAAA;;AAAA,+BAASA,GAAG,CAACC,OAAb,iDAAS,aAAaC,QAAb,CAAsBN,KAAK,CAACO,MAA5B,CAAT;AAAA,OAAV,CAA5B,EAAqF;AACnF;AACD;;AACDV,MAAAA,OAAO,CAACG,KAAD,CAAP;AACD,KALD;;AAMAQ,IAAAA,QAAQ,CAACC,gBAAT,CAA0B,WAA1B,EAAuCV,QAAvC;AACAS,IAAAA,QAAQ,CAACC,gBAAT,CAA0B,YAA1B,EAAwCV,QAAxC;AACA,WAAO,YAAM;AACXS,MAAAA,QAAQ,CAACE,mBAAT,CAA6B,WAA7B,EAA0CX,QAA1C;AACAS,MAAAA,QAAQ,CAACE,mBAAT,CAA6B,YAA7B,EAA2CX,QAA3C;AACD,KAHD;AAID,GAbQ,EAaN,CAACH,IAAD,EAAOC,OAAP,CAbM,CAAT;AAcD;;;;"}