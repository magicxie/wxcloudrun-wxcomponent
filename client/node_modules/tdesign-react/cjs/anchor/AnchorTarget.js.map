{"version":3,"file":"AnchorTarget.js","sources":["../../src/anchor/AnchorTarget.tsx"],"sourcesContent":["import React, { FunctionComponent } from 'react';\nimport classNames from 'classnames';\nimport { FileCopyIcon } from 'tdesign-icons-react';\nimport Popup from '../popup';\nimport { MessagePlugin } from '../message';\nimport useConfig from '../_util/useConfig';\n\nimport { TdAnchorTargetProps } from './type';\nimport { StyledProps } from '../common';\nimport { copyText } from './_util/clipboard';\n\nexport interface AnchorTargetProps extends TdAnchorTargetProps, StyledProps {}\n\nconst AnchorTarget: FunctionComponent<AnchorTargetProps> = (props) => {\n  const { id, tag = 'div', children, className, style } = props;\n\n  const { classPrefix } = useConfig();\n\n  const tagClassName = classNames(`${classPrefix}-anchor__target`, className);\n  const iconClassName = `${classPrefix}-anchor__copy`;\n\n  const handleCopyText = () => {\n    const a = document.createElement('a');\n    a.href = `#${id}`;\n    copyText(a.href);\n    MessagePlugin.success('链接复制成功', 1000);\n  };\n\n  const Content = () => (\n    <>\n      {children}\n      <Popup content=\"复制链接\" placement=\"top\" showArrow>\n        <FileCopyIcon className={iconClassName} onClick={handleCopyText} />\n      </Popup>\n    </>\n  );\n\n  return React.createElement(tag, { id, className: tagClassName, style }, React.createElement(Content));\n};\n\nexport default AnchorTarget;\n"],"names":["AnchorTarget","props","id","tag","children","className","style","useConfig","classPrefix","tagClassName","classNames","iconClassName","handleCopyText","a","document","createElement","href","copyText","MessagePlugin","success","Content","React","Fragment","Popup","content","placement","showArrow","FileCopyIcon","onClick"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAOMA,YAAY,GAAG,SAAfA,YAAe,CAACC,KAAD,EAAW;AAC9B,MAAQC,EAAR,GAAwDD,KAAxD,CAAQC,EAAR;AAAA,mBAAwDD,KAAxD,CAAYE,GAAZ;AAAA,MAAYA,GAAZ,2BAAkB,KAAlB;AAAA,MAAyBC,QAAzB,GAAwDH,KAAxD,CAAyBG,QAAzB;AAAA,MAAmCC,SAAnC,GAAwDJ,KAAxD,CAAmCI,SAAnC;AAAA,MAA8CC,KAA9C,GAAwDL,KAAxD,CAA8CK,KAA9C;;AACA,mBAAwBC,0BAAS,EAAjC;AAAA,MAAQC,WAAR,cAAQA,WAAR;;AACA,MAAMC,YAAY,GAAGC,8BAAU,WAAIF,WAAJ,sBAAkCH,SAAlC,CAA/B;AACA,MAAMM,aAAa,aAAMH,WAAN,kBAAnB;;AACA,MAAMI,cAAc,GAAG,SAAjBA,cAAiB,GAAM;AAC3B,QAAMC,CAAC,GAAGC,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAAV;AACAF,IAAAA,CAAC,CAACG,IAAF,cAAad,EAAb;AACAe,IAAAA,+BAAQ,CAACJ,CAAC,CAACG,IAAH,CAAR;AACAE,IAAAA,6BAAa,CAACC,OAAd,CAAsB,sCAAtB,EAA8D,GAA9D;AACD,GALD;;AAMA,MAAMC,OAAO,GAAG,SAAVA,OAAU;AAAA,0BAAsBC,yBAAK,CAACN,aAAN,CAAoBM,yBAAK,CAACC,QAA1B,EAAoC,IAApC,EAA0ClB,QAA1C,iBAAoEiB,yBAAK,CAACN,aAAN,CAAoBQ,iBAApB,EAA2B;AACnIC,MAAAA,OAAO,EAAE,0BAD0H;AAEnIC,MAAAA,SAAS,EAAE,KAFwH;AAGnIC,MAAAA,SAAS,EAAE;AAHwH,KAA3B,iBAIvFL,yBAAK,CAACN,aAAN,CAAoBY,8BAApB,EAAkC;AACnDtB,MAAAA,SAAS,EAAEM,aADwC;AAEnDiB,MAAAA,OAAO,EAAEhB;AAF0C,KAAlC,CAJuF,CAApE,CAAtB;AAAA,GAAhB;;AAQA,sBAAOS,yBAAK,CAACN,aAAN,CAAoBZ,GAApB,EAAyB;AAAED,IAAAA,EAAE,EAAFA,EAAF;AAAMG,IAAAA,SAAS,EAAEI,YAAjB;AAA+BH,IAAAA,KAAK,EAALA;AAA/B,GAAzB,eAAiEe,yBAAK,CAACN,aAAN,CAAoBK,OAApB,CAAjE,CAAP;AACD;;;;"}