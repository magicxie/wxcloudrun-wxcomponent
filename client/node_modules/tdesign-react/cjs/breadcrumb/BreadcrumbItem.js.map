{"version":3,"file":"BreadcrumbItem.js","sources":["../../src/breadcrumb/BreadcrumbItem.tsx"],"sourcesContent":["import React, { forwardRef, useContext, useMemo } from 'react';\nimport classNames from 'classnames';\n\nimport { ChevronRightIcon } from 'tdesign-icons-react';\nimport useConfig from '../_util/useConfig';\nimport useCommonClassName from '../_util/useCommonClassName';\n\nimport { BreadcrumbItemProps } from './BreadcrumbProps';\nimport { BreadcrumbContext } from './BreadcrumbContext';\n\nexport const BreadcrumbItem = forwardRef<HTMLDivElement, BreadcrumbItemProps>((props, ref) => {\n  const {\n    children,\n    separator = <ChevronRightIcon style={{ color: 'rgba(0,0,0,.3)' }} />,\n    disabled,\n    maxItemWidth,\n    maxWidth,\n    href,\n    to,\n    target,\n    router,\n    replace,\n    ...restProps\n  } = props;\n\n  const { maxItemWidthInContext } = useContext(BreadcrumbContext);\n\n  const { classPrefix } = useConfig();\n  const commonClassNames = useCommonClassName();\n\n  const breadcrumbItemClassNames = classNames(`${classPrefix}-breadcrumb__item`);\n  const textWrapperClassName = `${classPrefix}-breadcrumb__inner`;\n  const textClassNames = classNames(`${classPrefix}-breadcrumb--text-oveflow`, {\n    [commonClassNames.STATUS.disabled]: disabled,\n  });\n  const separatorClassName = `${classPrefix}-breadcrumb__separator`;\n  const linkClassName = `${classPrefix}-link`;\n\n  const maxWidthForItem = useMemo(\n    () => ({\n      maxWidth: maxWidth || maxItemWidth || maxItemWidthInContext || '120px',\n    }),\n    [maxItemWidth, maxWidth, maxItemWidthInContext],\n  );\n\n  const textContent = (\n    <span className={textWrapperClassName} style={maxWidthForItem}>\n      {children}\n    </span>\n  );\n\n  let itemContent = <span className={textClassNames}>{textContent}</span>;\n  if ((href || to) && !disabled) {\n    const handleRouting = () => {\n      if (href || !router) return;\n\n      replace ? router.replace(to) : router.push(to);\n    };\n    itemContent = (\n      <a className={classNames(textClassNames, linkClassName)} href={href} target={target} onClick={handleRouting}>\n        {textContent}\n      </a>\n    );\n  }\n\n  const separatorContent = typeof separator === 'function' ? separator() : separator;\n\n  return (\n    <div className={breadcrumbItemClassNames} ref={ref} {...restProps}>\n      {itemContent}\n      <span className={separatorClassName}>{separatorContent}</span>\n    </div>\n  );\n});\n\nBreadcrumbItem.displayName = 'BreadcrumbItem';\n"],"names":["BreadcrumbItem","forwardRef","props","ref","children","separator","React","createElement","ChevronRightIcon","style","color","disabled","maxItemWidth","maxWidth","href","to","target","router","replace","restProps","useContext","BreadcrumbContext","maxItemWidthInContext","useConfig","classPrefix","commonClassNames","useCommonClassName","breadcrumbItemClassNames","classNames","textWrapperClassName","textClassNames","STATUS","separatorClassName","linkClassName","maxWidthForItem","useMemo","textContent","className","itemContent","handleRouting","push","onClick","separatorContent","displayName"],"mappings":"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"}