/**
 * tdesign v0.22.1
 * (c) 2022 tdesign
 * @license MIT
 */

'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var toConsumableArray = require('../_chunks/dep-8f3deb2a.js');
var slicedToArray = require('../_chunks/dep-fa36e79f.js');
var defineProperty = require('../_chunks/dep-449daca3.js');
var React = require('react');
var dayjs = require('dayjs');
var locale_LocalReceiver = require('../locale/LocalReceiver.js');
var button_index = require('../button/index.js');
var select_index = require('../select/index.js');
var radio_index = require('../radio/index.js');
var _util_noop = require('../_util/noop.js');
var _util_useConfig = require('../_util/useConfig.js');
var calendar__util = require('./_util.js');
var tag_CheckTag = require('../tag/CheckTag.js');
require('../_chunks/dep-045b87c1.js');
require('../config-provider/ConfigContext.js');
require('../locale/zh_CN.js');
require('../button/Button.js');
require('../_chunks/dep-e03ca79d.js');
require('classnames');
require('../_util/useRipple.js');
require('../_util/setStyle.js');
require('../loading/index.js');
require('../loading/loading.js');
require('../_util/dom.js');
require('raf');
require('../_chunks/dep-0705da20.js');
require('../_chunks/dep-0e3f1753.js');
require('../_chunks/dep-a7666a95.js');
require('../_chunks/dep-9125a75e.js');
require('../_chunks/dep-48870ae5.js');
require('../_util/easing.js');
require('../common/Portal.js');
require('react-dom');
require('../loading/gradient.js');
require('../loading/plugin.js');
require('../select/base/Select.js');
require('tdesign-icons-react');
require('../_chunks/dep-1bafebb1.js');
require('../_chunks/dep-735b841a.js');
require('../_chunks/dep-af921283.js');
require('../_chunks/dep-4f605641.js');
require('../_chunks/dep-9c74d22d.js');
require('../_chunks/dep-20e76bfc.js');
require('../_chunks/dep-6681bc7b.js');
require('../_chunks/dep-7a0cfc4c.js');
require('lodash');
require('../_util/composeRefs.js');
require('../_util/useDefaultValue.js');
require('../_util/useDefault.js');
require('../_util/forwardRefWithStatics.js');
require('hoist-non-react-statics');
require('../select/util/helper.js');
require('../select/base/OptionGroup.js');
require('../select/base/Option.js');
require('../_chunks/dep-f0639562.js');
require('../common/FakeArrow.js');
require('../input/index.js');
require('../input/Input.js');
require('../input/InputGroup.js');
require('../popup/index.js');
require('../popup/Popup.js');
require('react-transition-group');
require('react-popper');
require('../_util/usePrevious.js');
require('../popup/Portal.js');
require('../popup/hooks/useTriggerProps.js');
require('../_util/useClickOutside.js');
require('../popup/hooks/usePopupCssTransition.js');
require('../tag/index.js');
require('../tag/Tag.js');
require('../select/base/PopupContent.js');
require('../_chunks/dep-f1b75399.js');
require('../common/Check.js');
require('../_util/helper.js');
require('../_chunks/dep-3ca698ba.js');
require('../_chunks/dep-bc486aab.js');
require('../_chunks/dep-c7adf4af.js');
require('../_util/useCommonClassName.js');

function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }

var React__default = /*#__PURE__*/_interopDefaultLegacy(React);
var dayjs__default = /*#__PURE__*/_interopDefaultLegacy(dayjs);

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { defineProperty._defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }

var getDefaultControllerConfigData = function getDefaultControllerConfigData() {
  var visible = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;
  return {
    visible: visible,
    disabled: false,
    mode: {
      visible: true,
      radioGroupProps: {}
    },
    year: {
      visible: true,
      selectProps: {
        popupProps: {
          overlayStyle: {
            width: "110px"
          }
        }
      }
    },
    month: {
      visible: true,
      selectProps: {
        popupProps: {
          overlayStyle: {
            width: "90px"
          }
        }
      }
    },
    weekend: {
      visible: true,
      showWeekendButtonProps: {},
      hideWeekendButtonProps: {}
    },
    current: {
      visible: true,
      currentDayButtonProps: {},
      currentMonthButtonProps: {}
    }
  };
};

var blockName = "calendar";
var controlSectionSize = "medium";
var minYear = 1970;
var Calendar = /*#__PURE__*/React.forwardRef(function (props, ref) {
  var _props$className = props.className,
      className = _props$className === void 0 ? "" : _props$className,
      _props$style = props.style,
      style = _props$style === void 0 ? {} : _props$style,
      _props$mode = props.mode,
      modeFromProps = _props$mode === void 0 ? "month" : _props$mode,
      _props$value = props.value,
      valueFromProps = _props$value === void 0 ? null : _props$value,
      _props$firstDayOfWeek = props.firstDayOfWeek,
      firstDayOfWeek = _props$firstDayOfWeek === void 0 ? 1 : _props$firstDayOfWeek,
      _props$format = props.format,
      format = _props$format === void 0 ? "YYYY-MM-DD" : _props$format,
      _props$range = props.range,
      range = _props$range === void 0 ? null : _props$range,
      _props$head = props.head,
      head = _props$head === void 0 ? null : _props$head,
      _props$cell = props.cell,
      cell = _props$cell === void 0 ? null : _props$cell,
      _props$cellAppend = props.cellAppend,
      cellAppend = _props$cellAppend === void 0 ? null : _props$cellAppend,
      _props$week = props.week,
      week = _props$week === void 0 ? null : _props$week,
      _props$theme = props.theme,
      theme = _props$theme === void 0 ? "full" : _props$theme,
      controllerConfig = props.controllerConfig,
      _props$isShowWeekendD = props.isShowWeekendDefault,
      isShowWeekendDefault = _props$isShowWeekendD === void 0 ? true : _props$isShowWeekendD,
      _props$preventCellCon = props.preventCellContextmenu,
      preventCellContextmenu = _props$preventCellCon === void 0 ? false : _props$preventCellCon,
      _props$onControllerCh = props.onControllerChange,
      onControllerChange = _props$onControllerCh === void 0 ? _util_noop["default"] : _props$onControllerCh,
      _props$onCellClick = props.onCellClick,
      onCellClick = _props$onCellClick === void 0 ? _util_noop["default"] : _props$onCellClick,
      _props$onCellDoubleCl = props.onCellDoubleClick,
      onCellDoubleClick = _props$onCellDoubleCl === void 0 ? _util_noop["default"] : _props$onCellDoubleCl,
      _props$onCellRightCli = props.onCellRightClick,
      onCellRightClick = _props$onCellRightCli === void 0 ? _util_noop["default"] : _props$onCellRightCli,
      _props$onMonthChange = props.onMonthChange,
      onMonthChange = _props$onMonthChange === void 0 ? _util_noop["default"] : _props$onMonthChange,
      _props$fillWithZero = props.fillWithZero,
      fillWithZero = _props$fillWithZero === void 0 ? false : _props$fillWithZero;
  var controllerConfigData = typeof controllerConfig === "boolean" ? getDefaultControllerConfigData(controllerConfig) : _objectSpread(_objectSpread({}, getDefaultControllerConfigData()), controllerConfig);
  var visible = controllerConfigData.visible,
      disabled = controllerConfigData.disabled,
      modeFromConfig = controllerConfigData.mode,
      yearFromConfig = controllerConfigData.year,
      monthFromConfig = controllerConfigData.month,
      weekend = controllerConfigData.weekend,
      current = controllerConfigData.current;
  var _modeFromConfig$visib = modeFromConfig.visible,
      visibleForMode = _modeFromConfig$visib === void 0 ? true : _modeFromConfig$visib,
      _modeFromConfig$radio = modeFromConfig.radioGroupProps,
      radioGroupPropsForMode = _modeFromConfig$radio === void 0 ? {} : _modeFromConfig$radio;
  var _yearFromConfig$visib = yearFromConfig.visible,
      visibleForYear = _yearFromConfig$visib === void 0 ? true : _yearFromConfig$visib,
      _yearFromConfig$selec = yearFromConfig.selectProps,
      selectPropsForYear = _yearFromConfig$selec === void 0 ? {} : _yearFromConfig$selec;
  var _monthFromConfig$visi = monthFromConfig.visible,
      visibleForMonth = _monthFromConfig$visi === void 0 ? true : _monthFromConfig$visi,
      _monthFromConfig$sele = monthFromConfig.selectProps,
      selectPropsForMonth = _monthFromConfig$sele === void 0 ? {} : _monthFromConfig$sele;
  var _weekend$visible = weekend.visible,
      visibleForWeekendToggle = _weekend$visible === void 0 ? true : _weekend$visible,
      _weekend$showWeekendB = weekend.showWeekendButtonProps,
      showWeekendButtonProps = _weekend$showWeekendB === void 0 ? {} : _weekend$showWeekendB,
      _weekend$hideWeekendB = weekend.hideWeekendButtonProps,
      hideWeekendButtonProps = _weekend$hideWeekendB === void 0 ? {} : _weekend$hideWeekendB;
  var _current$visible = current.visible,
      visibleForCurrent = _current$visible === void 0 ? true : _current$visible,
      _current$currentDayBu = current.currentDayButtonProps,
      currentDayButtonProps = _current$currentDayBu === void 0 ? {} : _current$currentDayBu,
      _current$currentMonth = current.currentMonthButtonProps,
      currentMonthButtonProps = _current$currentMonth === void 0 ? {} : _current$currentMonth;

  var _useConfig = _util_useConfig["default"](),
      classPrefix = _useConfig.classPrefix;

  var _useState = React.useState("month"),
      _useState2 = slicedToArray._slicedToArray(_useState, 2),
      mode = _useState2[0],
      setMode = _useState2[1];

  var _useState3 = React.useState(dayjs__default["default"](valueFromProps || dayjs__default["default"]().format("YYYY-MM-DD"))),
      _useState4 = slicedToArray._slicedToArray(_useState3, 2),
      value = _useState4[0],
      setValue = _useState4[1];

  var _useState5 = React.useState(value.year()),
      _useState6 = slicedToArray._slicedToArray(_useState5, 2),
      year = _useState6[0],
      setYearState = _useState6[1];

  var _useState7 = React.useState(parseInt(value.format("M"), 10)),
      _useState8 = slicedToArray._slicedToArray(_useState7, 2),
      month = _useState8[0],
      setMonthState = _useState8[1];

  var _useState9 = React.useState(isShowWeekendDefault),
      _useState10 = slicedToArray._slicedToArray(_useState9, 2),
      isShowWeekend = _useState10[0],
      setIsShowWeekend = _useState10[1];

  var _useLocaleReceiver = locale_LocalReceiver.useLocaleReceiver("calendar"),
      _useLocaleReceiver2 = slicedToArray._slicedToArray(_useLocaleReceiver, 2),
      local = _useLocaleReceiver2[0],
      t = _useLocaleReceiver2[1];

  var setMonth = React.useCallback(function (newMonth) {
    setMonthState(newMonth);
    onMonthChange({
      month: String(newMonth),
      year: String(year)
    });
  }, [onMonthChange, year]);

  var setYear = function setYear(newYear) {
    setYearState(newYear);
  };

  var weekLabelList = t(local.week).split(",");
  var colHeaderList = React.useMemo(function () {
    if (mode === "year") return [];
    var weekTextArr = Array.isArray(week) && week.length >= 7 ? week : toConsumableArray._toConsumableArray(weekLabelList);
    var list = [];

    for (var i = firstDayOfWeek; i <= 7; i++) {
      if (!isShowWeekend && i > 5) {
        break;
      }

      list.push({
        day: i,
        text: weekTextArr[i - 1]
      });
    }

    if (firstDayOfWeek > 1) {
      for (var _i = 1; _i < firstDayOfWeek; _i++) {
        if (!isShowWeekend && _i > 5) {
          break;
        }

        list.push({
          day: _i,
          text: weekTextArr[_i - 1]
        });
      }
    }

    return list;
  }, [mode, firstDayOfWeek, isShowWeekend, week, weekLabelList]);
  var rangeFromTo = React.useMemo(function () {
    if (!range || range.length < 2) {
      return null;
    }

    var _range = slicedToArray._slicedToArray(range, 2),
        v1 = _range[0],
        v2 = _range[1];

    if (dayjs__default["default"](v1).isBefore(dayjs__default["default"](v2))) {
      return {
        from: v1,
        to: v2
      };
    }

    return {
      from: v2,
      to: v1
    };
  }, [range]);
  var controllerOptions = React.useMemo(function () {
    var dayJsFilterDate = dayjs__default["default"]("".concat(year, "-").concat(month));
    var re = {
      filterDate: dayJsFilterDate.toDate(),
      formattedFilterDate: dayJsFilterDate.format(format),
      mode: mode,
      isShowWeekend: isShowWeekend
    };
    return re;
  }, [isShowWeekend, mode, year, month, format]);

  var _useMemo = React.useMemo(function () {
    var isRangeValid = rangeFromTo && rangeFromTo.from && rangeFromTo.to;

    var checkMonthSelectorDisabled = function checkMonthSelectorDisabled(yearIn, monthIn) {
      if (isRangeValid) {
        var beginYear = dayjs__default["default"](rangeFromTo.from).year();
        var endYear = dayjs__default["default"](rangeFromTo.to).year();

        if (yearIn === beginYear) {
          var beginMon = parseInt(dayjs__default["default"](rangeFromTo.from).format("M"), 10);
          return monthIn < beginMon;
        }

        if (yearIn === endYear) {
          var endMon = parseInt(dayjs__default["default"](rangeFromTo.to).format("M"), 10);
          return monthIn > endMon;
        }
      }

      return false;
    };

    var yearList = [];
    var monthList2 = [];
    var yearBegin = isRangeValid ? dayjs__default["default"](rangeFromTo.from).year() : Math.max(minYear, year - 10);
    var yearEnd = isRangeValid ? dayjs__default["default"](rangeFromTo.to).year() : Math.max(minYear, year + 10);

    for (var i = yearBegin; i <= yearEnd; i++) {
      yearList.push({
        value: i,
        disabled: checkMonthSelectorDisabled(i, month)
      });
    }

    for (var _i2 = 1; _i2 <= 12; _i2++) {
      monthList2.push({
        value: _i2,
        disabled: checkMonthSelectorDisabled(year, _i2)
      });
    }

    return [yearList, monthList2];
  }, [rangeFromTo, year, month]),
      _useMemo2 = slicedToArray._slicedToArray(_useMemo, 2),
      yearSelectList = _useMemo2[0],
      monthSelectList = _useMemo2[1];

  var dateList = React.useMemo(function () {
    return calendar__util.createDateList(year, month, firstDayOfWeek, value, format);
  }, [year, month, firstDayOfWeek, format, value]);
  var monthList = React.useMemo(function () {
    return calendar__util.createMonthList(year, value, format);
  }, [year, value, format]);
  var prefixCls = React.useCallback(function () {
    var className2 = "";

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    args.forEach(function (item, index) {
      if (item && index > 0) className2 = className2.concat(" ");

      if (item instanceof Array) {
        var _item = slicedToArray._slicedToArray(item, 3),
            block = _item[0],
            element = _item[1],
            modifier = _item[2];

        className2 = className2.concat(classPrefix, "-", block);
        if (element) className2 = className2.concat("__", element);
        if (modifier) className2 = className2.concat("--", modifier);
      } else if (typeof item === "string") {
        className2 = className2.concat(classPrefix, "-", item);
      }
    });
    return className2;
  }, [classPrefix]);
  var createCalendarCell = React.useCallback(function (cellData) {
    return _objectSpread(_objectSpread({}, cellData), controllerOptions);
  }, [controllerOptions]);
  var toCurrent = React.useCallback(function () {
    var valueIn = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
    var now = dayjs__default["default"](valueIn).isValid() ? dayjs__default["default"](valueIn) : dayjs__default["default"](dayjs__default["default"]().format("YYYY-MM-DD"));
    setValue(now);
    setYear(now.year());
    setMonth(parseInt(now.format("M"), 10));
  }, [setMonth]);
  React__default["default"].useImperativeHandle(ref, function () {
    return {
      toCurrent: toCurrent
    };
  }, [toCurrent]);
  var execCellEvent = React.useCallback(function (event, calendarCell, handleFunc) {
    if (handleFunc && typeof handleFunc === "function") {
      handleFunc({
        cell: createCalendarCell(calendarCell),
        e: event
      });
    }
  }, [createCalendarCell]);
  var clickCell = React.useCallback(function (event, calendarCell) {
    setValue(dayjs__default["default"](calendarCell.formattedDate));
    execCellEvent(event, calendarCell, onCellClick);
  }, [onCellClick, execCellEvent]);
  var doubleClickCell = React.useCallback(function (event, calendarCell) {
    execCellEvent(event, calendarCell, onCellDoubleClick);
  }, [onCellDoubleClick, execCellEvent]);
  var rightClickCell = React.useCallback(function (event, calendarCell) {
    if (preventCellContextmenu) event.preventDefault();
    execCellEvent(event, calendarCell, onCellRightClick);
  }, [onCellRightClick, execCellEvent, preventCellContextmenu]);
  React.useEffect(function () {
    toCurrent(valueFromProps);
  }, [valueFromProps, toCurrent]);
  React.useEffect(function () {
    setMode(modeFromProps);
  }, [modeFromProps]);
  React.useEffect(function () {
    setIsShowWeekend(isShowWeekendDefault);
  }, [isShowWeekendDefault]);
  React.useLayoutEffect(function () {
    onControllerChange(controllerOptions);
  }, [onControllerChange, controllerOptions]);
  var monthLabelList = t(local.cellMonth).split(",");

  var getMonthCN = function getMonthCN(month2) {
    return monthLabelList[month2];
  };

  var fix0 = function fix0(num) {
    var _ref;

    var fillZero = num < 10 && ((_ref = fillWithZero !== null && fillWithZero !== void 0 ? fillWithZero : local.fillWithZero) !== null && _ref !== void 0 ? _ref : true);
    return fillZero ? "0".concat(num) : num;
  };

  return /* @__PURE__ */React__default["default"].createElement("div", {
    className: prefixCls(blockName, [blockName, "", theme]).concat(" ", className),
    style: style
  }, visible && /* @__PURE__ */React__default["default"].createElement("div", {
    className: prefixCls([blockName, "control"])
  }, /* @__PURE__ */React__default["default"].createElement("div", {
    className: prefixCls([blockName, "title"])
  }, function () {
    if (head && typeof head === "function") return head(controllerOptions);
    if (head && typeof head !== "function") return head;
  }()), /* @__PURE__ */React__default["default"].createElement("div", {
    className: prefixCls([blockName, "control-section"])
  }, /* @__PURE__ */React__default["default"].createElement("div", {
    className: prefixCls([blockName, "control-section-cell"])
  }, visibleForYear && /* @__PURE__ */React__default["default"].createElement(select_index.Select, _objectSpread({
    size: controlSectionSize,
    disabled: disabled,
    value: year,
    options: yearSelectList.map(function (item) {
      return {
        label: t(local.yearSelection, {
          year: item.value
        }),
        value: item.value,
        disabled: item.disabled
      };
    }),
    onChange: function onChange(selectYear) {
      return setYear(selectYear);
    }
  }, selectPropsForYear))), /* @__PURE__ */React__default["default"].createElement("div", {
    className: prefixCls([blockName, "control-section-cell"])
  }, visibleForMonth && mode === "month" && /* @__PURE__ */React__default["default"].createElement(select_index.Select, _objectSpread({
    size: controlSectionSize,
    disabled: disabled,
    value: month,
    options: monthSelectList.map(function (item) {
      return {
        label: t(local.monthSelection, {
          month: item.value
        }),
        value: item.value,
        disabled: item.disabled
      };
    }),
    onChange: function onChange(selectMonth) {
      return setMonth(selectMonth);
    }
  }, selectPropsForMonth)))), /* @__PURE__ */React__default["default"].createElement("div", {
    className: prefixCls([blockName, "control-section"]),
    style: {
      height: "auto"
    }
  }, visibleForMode && /* @__PURE__ */React__default["default"].createElement(radio_index.Radio.Group, _objectSpread({
    variant: "default-filled",
    size: controlSectionSize,
    value: mode,
    disabled: disabled,
    onChange: function onChange(value2) {
      return setMode(value2);
    }
  }, radioGroupPropsForMode), /* @__PURE__ */React__default["default"].createElement(radio_index.Radio.Button, {
    value: "month"
  }, t(local.monthRadio)), /* @__PURE__ */React__default["default"].createElement(radio_index.Radio.Button, {
    value: "year"
  }, t(local.yearRadio)))), mode === "month" && theme === "full" && visibleForWeekendToggle && /* @__PURE__ */React__default["default"].createElement("div", {
    className: prefixCls([blockName, "control-section"])
  }, /* @__PURE__ */React__default["default"].createElement(tag_CheckTag["default"], _objectSpread({
    className: "t-calendar__control-tag",
    theme: isShowWeekend ? "default" : "primary",
    size: controlSectionSize,
    disabled: disabled,
    onClick: function onClick() {
      setIsShowWeekend(!isShowWeekend);
    }
  }, isShowWeekend ? hideWeekendButtonProps : showWeekendButtonProps), "".concat(isShowWeekend ? t(local.hideWeekend) : t(local.showWeekend)))), theme === "full" && visibleForCurrent && /* @__PURE__ */React__default["default"].createElement("div", {
    className: prefixCls([blockName, "control-section"])
  }, /* @__PURE__ */React__default["default"].createElement(button_index.Button, _objectSpread({
    size: controlSectionSize,
    disabled: disabled,
    onClick: toCurrent
  }, mode === "year" ? currentMonthButtonProps : currentDayButtonProps), mode === "year" ? t(local.thisMonth) : t(local.today)))), /* @__PURE__ */React__default["default"].createElement("div", {
    className: prefixCls([blockName, "panel"], [blockName, "panel--".concat(mode)])
  }, /* @__PURE__ */React__default["default"].createElement("table", {
    className: prefixCls([blockName, "table"])
  }, colHeaderList.length > 0 && /* @__PURE__ */React__default["default"].createElement("thead", {
    className: prefixCls([blockName, "table-head"])
  }, /* @__PURE__ */React__default["default"].createElement("tr", {
    className: prefixCls([blockName, "table-head-row"])
  }, colHeaderList.map(function (item) {
    return /* @__PURE__ */React__default["default"].createElement("th", {
      key: item.day,
      className: prefixCls([blockName, "table-head-cell"])
    }, week && typeof week === "function" ? week({
      day: item.day
    }) : item.text);
  }))), mode === "month" && /* @__PURE__ */React__default["default"].createElement("tbody", {
    className: prefixCls([blockName, "table-body"])
  }, dateList.map(function (dateRow, dateRowIndex) {
    return /* @__PURE__ */React__default["default"].createElement("tr", {
      key: String(dateRowIndex),
      className: prefixCls([blockName, "table-body-row"])
    }, dateRow.map(function (dateCell, dateCellIndex) {
      if (!isShowWeekend && [6, 7].indexOf(dateCell.day) >= 0) return null;
      var isNow = dateCell.formattedDate === dayjs__default["default"]().format("YYYY-MM-DD");
      return /* @__PURE__ */React__default["default"].createElement("td", {
        key: String(dateCellIndex),
        className: prefixCls([blockName, "table-body-cell"], dateCell.belongTo !== 0 && "is-disabled", dateCell.isCurrent && "is-checked", isNow && "is-now"),
        onClick: function onClick(event) {
          return clickCell(event, dateCell);
        },
        onDoubleClick: function onDoubleClick(event) {
          return doubleClickCell(event, dateCell);
        },
        onContextMenu: function onContextMenu(event) {
          return rightClickCell(event, dateCell);
        }
      }, function () {
        if (cell && typeof cell === "function") return cell(createCalendarCell(dateCell));
        if (cell && typeof cell !== "function") return cell;
        return /* @__PURE__ */React__default["default"].createElement("div", {
          className: prefixCls([blockName, "table-body-cell-display"])
        }, fix0(dateCell.date.getDate()));
      }(), function () {
        var celAppend;
        if (cellAppend && typeof cellAppend === "function") celAppend = cellAppend(createCalendarCell(dateCell));
        if (cellAppend && typeof cellAppend !== "function") celAppend = cellAppend;
        return cellAppend && /* @__PURE__ */React__default["default"].createElement("div", {
          className: prefixCls([blockName, "table-body-cell-content"])
        }, celAppend);
      }());
    }));
  })), mode === "year" && /* @__PURE__ */React__default["default"].createElement("tbody", {
    className: prefixCls([blockName, "table-body"])
  }, monthList.map(function (monthRow, monthRowIndex) {
    return /* @__PURE__ */React__default["default"].createElement("tr", {
      key: String(monthRowIndex),
      className: prefixCls([blockName, "table-body-row"])
    }, monthRow.map(function (monthCell, monthCellIndex) {
      var isNow = new Date().getMonth() === monthCell.date.getMonth();
      return /* @__PURE__ */React__default["default"].createElement("td", {
        key: String(monthCellIndex),
        className: prefixCls([blockName, "table-body-cell"], [monthCell.isCurrent && "is-checked"], [isNow && "calendar__table-body-cell--now"]),
        onClick: function onClick(event) {
          return clickCell(event, monthCell);
        },
        onDoubleClick: function onDoubleClick(event) {
          return doubleClickCell(event, monthCell);
        },
        onContextMenu: function onContextMenu(event) {
          return rightClickCell(event, monthCell);
        }
      }, function () {
        if (cell && typeof cell === "function") return cell(monthCell);
        if (cell && typeof cell !== "function") return cell;
        var monthCellIndex2 = monthCell.date.getMonth();
        var monthText = theme === "full" ? getMonthCN(monthCellIndex2) : t(local.monthSelection, {
          month: (monthCellIndex2 + 1).toString()
        });
        return /* @__PURE__ */React__default["default"].createElement("div", {
          className: prefixCls([blockName, "table-body-cell-value"])
        }, monthText);
      }(), function () {
        if (cellAppend && typeof cellAppend === "function") {
          return cellAppend(monthCell);
        }

        if (cellAppend && typeof cellAppend !== "function") return cellAppend;
        return /* @__PURE__ */React__default["default"].createElement("div", {
          className: prefixCls([blockName, "table-body-cell-content"])
        });
      }());
    }));
  })))));
});

exports["default"] = Calendar;
//# sourceMappingURL=Calendar.js.map
