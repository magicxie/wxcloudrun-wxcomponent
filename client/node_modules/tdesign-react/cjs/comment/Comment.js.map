{"version":3,"file":"Comment.js","sources":["../../src/comment/Comment.tsx"],"sourcesContent":["import React, { forwardRef } from 'react';\nimport classNames from 'classnames';\nimport useConfig from '../_util/useConfig';\nimport { StyledProps } from '../common';\nimport { TdCommentProps } from './type';\n\nexport interface CommentProps extends TdCommentProps, StyledProps {}\n\nconst Comment = forwardRef((props: CommentProps, ref: React.Ref<HTMLDivElement>) => {\n  const { actions, author, avatar, content, datetime, reply, quote, className, style = {} } = props;\n\n  const { classPrefix } = useConfig();\n\n  const avatarElement = avatar ? (\n    <div className={`${classPrefix}-comment__avatar`}>\n      {typeof avatar === 'string' ? (\n        <img src={avatar} alt=\"\" className={`${classPrefix}-comment__avatar-image`} />\n      ) : (\n        avatar\n      )}\n    </div>\n  ) : null;\n\n  const authorDatetimeContent = (author || datetime) && (\n    <div className={`${classPrefix}-comment__author`}>\n      {author && <span className={`${classPrefix}-comment__name`}>{author}</span>}\n      {datetime && <span className={`${classPrefix}-comment__time`}>{datetime}</span>}\n    </div>\n  );\n\n  const quoteElement = quote ? <div className={`${classPrefix}-comment__quote`}>{quote}</div> : null;\n\n  const actionsElement =\n    actions && actions.length ? (\n      <ul className={`${classPrefix}-comment__actions`}>\n        {actions.map((action, index) => (\n          <li key={`action-${index}`}>{action}</li>\n        ))}\n      </ul>\n    ) : null;\n\n  const contentElement = (\n    <div className={`${classPrefix}-comment__content`}>\n      {authorDatetimeContent}\n      <div className={`${classPrefix}-comment__detail`}>{content}</div>\n      {quoteElement}\n      {actionsElement}\n    </div>\n  );\n\n  const replyElement = reply ? <div className={classNames(`${classPrefix}-comment__reply`)}>{reply}</div> : null;\n\n  return (\n    <div ref={ref} style={style} className={classNames(className, [`${classPrefix}-comment`])}>\n      <div className={`${classPrefix}-comment__inner`}>\n        {avatarElement}\n        {contentElement}\n      </div>\n      {replyElement}\n    </div>\n  );\n});\n\nComment.displayName = 'Comment';\n\nexport default Comment;\n"],"names":["Comment","forwardRef","props","ref","actions","author","avatar","content","datetime","reply","quote","className","style","useConfig","classPrefix","avatarElement","React","createElement","src","alt","authorDatetimeContent","quoteElement","actionsElement","length","map","action","index","key","contentElement","replyElement","classNames","displayName"],"mappings":"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"}