/**
 * tdesign v0.22.1
 * (c) 2022 tdesign
 * @license MIT
 */

'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var slicedToArray = require('../_chunks/dep-fa36e79f.js');
var _typeof = require('../_chunks/dep-a7666a95.js');
var React = require('react');
var ReactDOM = require('react-dom');
require('../_chunks/dep-045b87c1.js');

function getAttach(attach) {
  var parent;

  if (typeof attach === "string") {
    parent = document.querySelector(attach);
  }

  if (typeof attach === "function") {
    parent = attach();
  }

  if (_typeof._typeof(attach) === "object" && attach instanceof window.HTMLElement) {
    parent = attach;
  }

  return parent || document.body;
}
var Portal = /*#__PURE__*/React.forwardRef(function (props, ref) {
  var getContainer = props.getContainer,
      children = props.children;

  var _useMemo = React.useMemo(function () {
    var parent = getAttach(getContainer);

    if (parent) {
      var div = document.createElement("div");
      parent.appendChild(div);
      return [parent, div];
    }
  }, [getContainer]),
      _useMemo2 = slicedToArray._slicedToArray(_useMemo, 2),
      parentContainer = _useMemo2[0],
      container = _useMemo2[1];

  React.useEffect(function () {
    return function () {
      container.remove();
    };
  }, []);
  React.useImperativeHandle(ref, function () {
    return parentContainer;
  });
  return /*#__PURE__*/ReactDOM.createPortal(children, container);
});
Portal.displayName = "Portal";

exports["default"] = Portal;
exports.getAttach = getAttach;
//# sourceMappingURL=Portal.js.map
