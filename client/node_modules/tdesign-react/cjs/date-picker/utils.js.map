{"version":3,"file":"utils.js","sources":["../../node_modules/lodash/chunk.js","../../src/date-picker/utils.ts"],"sourcesContent":["var baseSlice = require('./_baseSlice'),\n    isIterateeCall = require('./_isIterateeCall'),\n    toInteger = require('./toInteger');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeCeil = Math.ceil,\n    nativeMax = Math.max;\n\n/**\n * Creates an array of elements split into groups the length of `size`.\n * If `array` can't be split evenly, the final chunk will be the remaining\n * elements.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Array\n * @param {Array} array The array to process.\n * @param {number} [size=1] The length of each chunk\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Array} Returns the new array of chunks.\n * @example\n *\n * _.chunk(['a', 'b', 'c', 'd'], 2);\n * // => [['a', 'b'], ['c', 'd']]\n *\n * _.chunk(['a', 'b', 'c', 'd'], 3);\n * // => [['a', 'b', 'c'], ['d']]\n */\nfunction chunk(array, size, guard) {\n  if ((guard ? isIterateeCall(array, size, guard) : size === undefined)) {\n    size = 1;\n  } else {\n    size = nativeMax(toInteger(size), 0);\n  }\n  var length = array == null ? 0 : array.length;\n  if (!length || size < 1) {\n    return [];\n  }\n  var index = 0,\n      resIndex = 0,\n      result = Array(nativeCeil(length / size));\n\n  while (index < length) {\n    result[resIndex++] = baseSlice(array, index, (index += size));\n  }\n  return result;\n}\n\nmodule.exports = chunk;\n","import chunk from 'lodash/chunk';\nimport { DateValue } from './type';\nimport { Styles } from '../common';\n\n/**\n * next Month\n * @since version V1.0.0\n * @param { Date } date\n * @returns {Date}\n */\nexport const nextMonth = (date: Date) => {\n  const isPassYear = date.getMonth() === 11;\n  const newMonth = isPassYear ? 0 : date.getMonth() + 1;\n  const year = isPassYear ? date.getFullYear() + 1 : date.getFullYear();\n  return new Date(year, newMonth, 1);\n};\n\n/**\n * prev Month\n * @since version V1.0.0\n * @param {Date} date\n * @returns {Date}\n */\nexport const prevMonth = (date: Date) => {\n  const passYear = date.getMonth() === 0;\n  const newMonth = passYear ? 11 : date.getMonth() - 1;\n  const year = passYear ? date.getFullYear() - 1 : date.getFullYear();\n  return new Date(year, newMonth, 1);\n};\n\n/**\n * dateIndexOf\n * @since version V1.0.0\n * @param {Date} date\n * @param {Date[]} arrDates\n * @returns {Number}\n */\nexport function dateIndexOf(date: Date, arrDates: DateValue[]): number {\n  const curDate = new Date(date);\n  const curTime = curDate.setHours(0, 0, 0, 0);\n  const selectedDates = arrDates.map((d: Date) => {\n    const dt = new Date(d);\n    const dtime = dt.setHours(0, 0, 0, 0);\n    return dtime;\n  });\n\n  // console.log('curDate', selectedDates, curDate, selectedDates.indexOf(curTime));\n\n  return selectedDates.indexOf(curTime);\n}\n\n/**\n * Empty value\n * @since version V1.0.0\n * @param mixedVar\n * @returns {Boolean}\n * @example\n * // example 1: empty(null)\n * // returns 1: true\n * // example 2: empty(undefined)\n * // returns 2: true\n * // example 3: empty([])\n * // returns 3: true\n * // example 4: empty({})\n * // returns 4: true\n * // example 5: empty({'fn' : function () {} })\n * // returns 5: false\n */\nexport function empty(mixedVar: any): mixedVar is undefined | null | false | '' | {} {\n  let undef: undefined;\n  const emptyValues = [undef, null, false, ''];\n  for (let i = 0, len = emptyValues.length; i < len; i++) {\n    if (mixedVar === emptyValues[i]) {\n      return true;\n    }\n  }\n\n  if (typeof mixedVar === 'object') {\n    return Object.keys(mixedVar).length < 1;\n  }\n\n  return false;\n}\n\n/**\n * To Dashed from Camel Case\n * @since version V1.0.0\n * @param {String} strCamelCase\n * @returns {string}\n * @example\n * toDash('strCamelCase') === 'str-camel-case'\n */\nexport function toDash(strCamelCase: string): string {\n  return String(strCamelCase)\n    .split(/(?=[A-Z])/)\n    .join('-')\n    .toLowerCase();\n}\n\nexport function setStyles(el: HTMLElement | SVGElement, styles: Styles) {\n  Object.entries(styles).forEach(([prop, val = null]) => {\n    if (empty(val)) {\n      el.style.removeProperty(prop);\n      return;\n    }\n    const [value, pri = ''] = String(val).split('!');\n\n    el.style.setProperty(toDash(prop), value, pri);\n  });\n}\n\n/**\n * 首字母大写\n * @param {String} str 目标字符串\n * @returns {String}\n */\nexport function firstUpperCase(str: string): string {\n  if (!str) return str;\n  return str[0].toUpperCase().concat(str.substring(1, str.length));\n}\n\ninterface DateObj {\n  year: number;\n  month: number;\n}\n\n/**\n * 返回指定年、月的第一天日期\n * @param {Object} { year, month }\n * @returns {Date}\n */\nfunction getFirstDayOfMonth({ year, month }: DateObj): Date {\n  return new Date(year, month, 1);\n}\n\n/**\n * 返回指定年、月的天数\n * @param {Object} { year, month }\n * @returns {Number}\n */\nfunction getDaysInMonth({ year, month }: DateObj): number {\n  return new Date(year, month + 1, 0).getDate();\n}\n\n/**\n * 返回指定年、月的最后一天日期\n * @param {Object} { year, month }\n * @returns {Date}\n */\nfunction getLastDayOfMonth({ year, month }: DateObj): Date {\n  return new Date(year, month, getDaysInMonth({ year, month }));\n}\n\nfunction isSameYear(date1: Date, date2: Date) {\n  return date1.getFullYear() === date2.getFullYear();\n}\n\nfunction isSameMonth(date1: Date, date2: Date) {\n  return isSameYear(date1, date2) && date1.getMonth() === date2.getMonth();\n}\n\nfunction isSameDate(date1: Date, date2: Date) {\n  return isSameMonth(date1, date2) && date1.getDate() === date2.getDate();\n}\n\n/**\n * 是否是某法范围内的日期，精确到日\n * @param {Date} value 目标日期\n * @param {Object} { start, end } 范围\n * @returns {Boolean}\n */\nfunction isBetween(\n  value: { getFullYear: () => number; getMonth: () => number; getDate: () => number },\n  { start, end }: { start: any; end: any },\n): boolean {\n  const date = new Date(value.getFullYear(), value.getMonth(), value.getDate());\n\n  const startTime = new Date(start.getFullYear(), start.getMonth(), start.getDate());\n  const endTime = new Date(end.getFullYear(), end.getMonth(), end.getDate());\n\n  return startTime <= date && endTime >= date;\n}\n\n/**\n * 比较两个日期对象的时间戳\n * @param {Date} date1 日期1\n * @param {Date} date2 日期2\n * @returns {Number} 返回 date1.getTime() - date2.getTime() 的差值\n */\nfunction compareAsc(date1: { getTime: () => any }, date2: Date): number {\n  const d1 = date1.getTime();\n  const d2 = date2.getTime();\n\n  if (d1 < d2) return -1;\n  if (d1 > d2) return 1;\n  return 0;\n}\n\n/**\n * 比较两个 Date 是否是同一天 或则 同一月 或则 同一年\n * @param {Date} date1 比较的日期\n * @param {Date} date2 比较的日期\n * @param {String} type 比较类型，默认比较到『日』 date|month|year\n * @returns {Boolean}\n */\nexport function isSame(date1: Date, date2: Date, type = 'date'): boolean {\n  const func = {\n    isSameYear,\n    isSameMonth,\n    isSameDate,\n  };\n  return func[`isSame${firstUpperCase(type)}`](date1, date2);\n}\n\nexport function outOfRanges(d: Date, min: any, max: any) {\n  return (min && compareAsc(d, min) === -1) || (max && compareAsc(d, max) === 1);\n}\n\n/**\n * @returns {Date} 当天零点的日期对象\n */\nexport function getToday(): Date {\n  const now = new Date();\n  return new Date(now.getFullYear(), now.getMonth(), now.getDate(), 0, 0, 0);\n}\n\n/**\n * 返回日期对象的年、月、日、小时、分钟、秒、12小时制标识\n * @param {Date} date\n * @returns {Object}\n */\nexport function getDateObj(date: Date) {\n  if (!(date instanceof Date)) {\n    throw new Error('date must be Date object');\n  }\n  return {\n    year: date.getFullYear(),\n    month: date.getMonth(),\n    date: date.getDate(),\n    hours: date.getHours(),\n    minutes: date.getMinutes(),\n    seconds: date.getSeconds(),\n    meridiem: date.getHours() > 11 ? 'PM' : 'AM',\n  };\n}\n\n/**\n * 设置日期对象的时间部分\n * @param {Date} d 日期\n * @param {Number} hour 小时\n * @param {Number} min 分钟\n * @param {Number} sec 秒\n * @returns {Date} 一个新的date\n */\nexport function setDateTime(d: Date, hour: number, min: number, sec: number): Date {\n  // eslint-disable-next-line\n  const { year, month, date } = getDateObj(d);\n  return new Date(year, month, date, hour, min, sec, 0);\n}\n\n/**\n * 增加月份\n * @param {Date} date 起始日期\n * @param {Number} num 月份数\n * @returns {Date}\n */\nexport function subtractMonth(date: Date, num: any): Date {\n  const day = date.getDate();\n  const newDate = new Date(date);\n\n  let monthNum = num;\n  // eslint-disable-next-line no-plusplus\n  while (monthNum--) {\n    newDate.setDate(0);\n  }\n  newDate.setDate(day);\n  return newDate;\n}\n\n/**\n * 减月份\n * @param {Date} date 起始日期\n * @param {Number} num 月份数\n * @returns {Date}\n */\nexport function addMonth(date: Date, num: number): Date {\n  let monthNum = num;\n  if (num < 0) monthNum = 0;\n  const newDate = new Date(date);\n  newDate.setMonth(date.getMonth() + monthNum);\n  return newDate;\n}\n\nexport interface OptionsType {\n  firstDayOfWeek: number;\n  disableDate: Function;\n  minDate: Date;\n  maxDate: Date;\n  monthText?: string;\n}\n\nexport function getWeeks(\n  { year, month }: { year: number; month: number },\n  { firstDayOfWeek, disableDate = () => false, minDate, maxDate }: OptionsType,\n) {\n  const prependDay = getFirstDayOfMonth({ year, month });\n\n  const appendDay = getLastDayOfMonth({ year, month });\n\n  const maxDays = getDaysInMonth({ year, month });\n\n  const daysArr = [];\n\n  const today = getToday();\n\n  for (let i = 1; i <= maxDays; i++) {\n    const currentDay = new Date(year, month, i);\n\n    daysArr.push({\n      text: i,\n      active: false,\n      value: currentDay,\n      disabled: disableDate(currentDay) || outOfRanges(currentDay, minDate, maxDate),\n      now: isSame(today, currentDay),\n      firstDayOfMonth: i === 1,\n      lastDayOfMonth: i === maxDays,\n      type: 'current-month',\n    });\n  }\n\n  if (prependDay.getDay() !== firstDayOfWeek - 1) {\n    prependDay.setDate(0); // 上一月\n\n    const FLAG = true;\n    while (FLAG) {\n      daysArr.unshift({\n        text: prependDay.getDate().toString(),\n        active: false,\n        value: new Date(prependDay),\n        disabled: disableDate(prependDay) || outOfRanges(prependDay, minDate, maxDate),\n        additional: true, // 非当前月\n        type: 'prev-month',\n      });\n      prependDay.setDate(prependDay.getDate() - 1);\n      if (prependDay.getDay() === Math.abs(firstDayOfWeek + 6) % 7) break;\n    }\n  }\n\n  const LEN = 42; // 显示6周\n\n  while (daysArr.length < LEN) {\n    appendDay.setDate(appendDay.getDate() + 1);\n    daysArr.push({\n      text: appendDay.getDate(),\n      active: false,\n      value: new Date(appendDay),\n      disabled: disableDate(appendDay) || outOfRanges(appendDay, minDate, maxDate),\n      additional: true, // 非当前月\n      type: 'next-month',\n    });\n  }\n\n  return chunk(daysArr, 7);\n}\n\nexport function getYears(year: number, { disableDate = () => false, minDate, maxDate }: OptionsType) {\n  const startYear = parseInt((year / 10).toString(), 10) * 10;\n  const endYear = startYear + 9;\n\n  const yearArr = [];\n\n  const today = getToday();\n\n  for (let i = startYear; i <= endYear; i++) {\n    const date = new Date(i, 1);\n\n    let disabledMonth = 0;\n    let outOfRangeMonth = 0;\n\n    for (let j = 0; j < 12; j++) {\n      const d = new Date(i, j, j === 11 ? 31 : 1);\n      if (typeof disableDate === 'function' && disableDate(d)) disabledMonth += 1;\n      if (outOfRanges(d, minDate, maxDate)) outOfRangeMonth += 1;\n    }\n\n    yearArr.push({\n      value: date,\n      now: isSame(date, today, 'year'),\n      disabled: disabledMonth === 12 || outOfRangeMonth === 12,\n      active: false,\n      text: `${date.getFullYear()}`,\n    });\n  }\n\n  return chunk(yearArr, 4);\n}\n\nexport function getMonths(year: number, { disableDate = () => false, minDate, maxDate, monthText = '' }: OptionsType) {\n  const monthArr = [];\n\n  const today = getToday();\n\n  for (let i = 0; i <= 11; i++) {\n    const date = new Date(year, i);\n\n    let disabledDay = 0;\n    let outOfRangeDay = 0;\n\n    const daysInMonth = getDaysInMonth({ year, month: i });\n\n    for (let j = 1; j <= daysInMonth; j++) {\n      const d = new Date(year, i, j);\n      if (disableDate(d)) disabledDay += 1;\n      if (outOfRanges(d, minDate, maxDate)) outOfRangeDay += 1;\n    }\n\n    monthArr.push({\n      value: date,\n      now: isSame(date, today, 'month'),\n      disabled: disabledDay === daysInMonth || outOfRangeDay === daysInMonth,\n      active: false,\n      text: `${date.getMonth() + 1} ${monthText}`,\n    });\n  }\n\n  return chunk(monthArr, 4);\n}\n\ninterface DateTime {\n  active: boolean;\n  highlight: boolean;\n  startOfRange: boolean;\n  endOfRange: boolean;\n  value: Date;\n}\n\nexport function flagActive(data: any[], { ...args }: any) {\n  const { start, end, type = 'date' } = args;\n\n  if (!end) {\n    return data.map((row: any[]) =>\n      row.map((item: DateTime) => {\n        Object.assign(item, { active: isSame(item.value, start, type) });\n        return item;\n      }),\n    );\n  }\n\n  return data.map((row: any[]) =>\n    row.map((item: DateTime) => {\n      const date = item.value;\n      const isStart = isSame(start, date, type);\n      const isEnd = isSame(end, date, type);\n      Object.assign(item, {\n        active: isStart || isEnd,\n        highlight: isBetween(date, { start, end }),\n        startOfRange: isStart,\n        endOfRange: isEnd,\n      });\n      return item;\n    }),\n  );\n}\n"],"names":["baseSlice","require$$0","isIterateeCall","require$$1","toInteger","require$$2","nativeCeil","Math","ceil","nativeMax","max","chunk","array","size","guard","undefined","length","index","resIndex","result","Array","chunk_1","nextMonth","date","isPassYear","getMonth","newMonth","year","getFullYear","Date","prevMonth","passYear","dateIndexOf","arrDates","curDate","curTime","setHours","selectedDates","map","d","dt","dtime","indexOf","empty","mixedVar","undef","emptyValues","i","len","_typeof","Object","keys","toDash","strCamelCase","String","split","join","toLowerCase","setStyles","el","styles","entries","forEach","prop","val","style","removeProperty","value","pri","setProperty","firstUpperCase","str","toUpperCase","concat","substring","getFirstDayOfMonth","month","getDaysInMonth","getDate","getLastDayOfMonth","isSameYear","date1","date2","isSameMonth","isSameDate","isBetween","start","end","startTime","endTime","compareAsc","d1","getTime","d2","isSame","type","func","outOfRanges","min","getToday","now","getDateObj","Error","hours","getHours","minutes","getMinutes","seconds","getSeconds","meridiem","setDateTime","hour","sec","subtractMonth","num","day","newDate","monthNum","setDate","addMonth","setMonth","getWeeks","firstDayOfWeek","disableDate","minDate","maxDate","prependDay","appendDay","maxDays","daysArr","today","currentDay","push","text","active","disabled","firstDayOfMonth","lastDayOfMonth","getDay","FLAG","unshift","toString","additional","abs","LEN","getYears","startYear","parseInt","endYear","yearArr","disabledMonth","outOfRangeMonth","j","getMonths","monthText","monthArr","disabledDay","outOfRangeDay","daysInMonth","flagActive","data","args","row","item","assign","isStart","isEnd","highlight","startOfRange","endOfRange"],"mappings":"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"}