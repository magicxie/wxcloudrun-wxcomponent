{"version":3,"file":"numberUtils.js","sources":["../../../src/input-number/utils/numberUtils.ts"],"sourcesContent":["export const isInvalidNumber = (number: number | string) => {\n  if (typeof number === 'number') {\n    return Number.isNaN(number);\n  }\n\n  if (!number) {\n    return true;\n  }\n\n  // 普通数字 1.1 1\n  // 小数点在后 1.\n  // 小数点在后 .1\n  return !(/^\\s*-?\\d+(\\.\\d+)?\\s*$/.test(number) || /^\\s*-?\\d+\\.\\s*$/.test(number) || /^\\s*-?\\.\\d+\\s*$/.test(number));\n};\n\nexport const getNumberPrecision = (number: number | string) => {\n  const numStr = String(number);\n\n  return numStr.includes('.') ? numStr.length - numStr.indexOf('.') - 1 : 0;\n};\n\nconst multiE = (s: string) => {\n  const m = s.match(/[e]/gi);\n  return m === null ? false : m.length > 1;\n};\nconst multiDot = (s: string) => {\n  const m = s.match(/[.]/g);\n  return m === null ? false : m.length > 1;\n};\nconst multiNegative = (s: string) => {\n  const m = s.match(/[-]/g);\n  return m === null ? false : m.length > 1;\n};\nexport const strToNumber = (s: string): number => {\n  if (['', undefined].includes(s)) {\n    return 0;\n  }\n\n  let filterVal = s.replace(/[^\\d.eE。-]/g, '').replace('。', '.');\n\n  if (multiE(filterVal) || multiDot(filterVal) || multiNegative(filterVal)) {\n    filterVal = filterVal.substr(0, filterVal.length - 1);\n  }\n\n  return Number(filterVal);\n};\n"],"names":["isInvalidNumber","number","Number","isNaN","test","getNumberPrecision","numStr","String","includes","length","indexOf","multiE","s","m","match","multiDot","multiNegative","strToNumber","filterVal","replace","substr"],"mappings":";;;;;;;;;;IAAaA,eAAe,GAAG,SAAlBA,eAAkB,CAACC,MAAD,EAAY;AACzC,MAAI,OAAOA,MAAP,KAAkB,QAAtB,EAAgC;AAC9B,WAAOC,MAAM,CAACC,KAAP,CAAaF,MAAb,CAAP;AACD;;AACD,MAAI,CAACA,MAAL,EAAa;AACX,WAAO,IAAP;AACD;;AACD,SAAO,EAAE,wBAAwBG,IAAxB,CAA6BH,MAA7B,KAAwC,kBAAkBG,IAAlB,CAAuBH,MAAvB,CAAxC,IAA0E,kBAAkBG,IAAlB,CAAuBH,MAAvB,CAA5E,CAAP;AACD;IACYI,kBAAkB,GAAG,SAArBA,kBAAqB,CAACJ,MAAD,EAAY;AAC5C,MAAMK,MAAM,GAAGC,MAAM,CAACN,MAAD,CAArB;AACA,SAAOK,MAAM,CAACE,QAAP,CAAgB,GAAhB,IAAuBF,MAAM,CAACG,MAAP,GAAgBH,MAAM,CAACI,OAAP,CAAe,GAAf,CAAhB,GAAsC,CAA7D,GAAiE,CAAxE;AACD;;AACD,IAAMC,MAAM,GAAG,SAATA,MAAS,CAACC,CAAD,EAAO;AACpB,MAAMC,CAAC,GAAGD,CAAC,CAACE,KAAF,CAAQ,OAAR,CAAV;AACA,SAAOD,CAAC,KAAK,IAAN,GAAa,KAAb,GAAqBA,CAAC,CAACJ,MAAF,GAAW,CAAvC;AACD,CAHD;;AAIA,IAAMM,QAAQ,GAAG,SAAXA,QAAW,CAACH,CAAD,EAAO;AACtB,MAAMC,CAAC,GAAGD,CAAC,CAACE,KAAF,CAAQ,MAAR,CAAV;AACA,SAAOD,CAAC,KAAK,IAAN,GAAa,KAAb,GAAqBA,CAAC,CAACJ,MAAF,GAAW,CAAvC;AACD,CAHD;;AAIA,IAAMO,aAAa,GAAG,SAAhBA,aAAgB,CAACJ,CAAD,EAAO;AAC3B,MAAMC,CAAC,GAAGD,CAAC,CAACE,KAAF,CAAQ,MAAR,CAAV;AACA,SAAOD,CAAC,KAAK,IAAN,GAAa,KAAb,GAAqBA,CAAC,CAACJ,MAAF,GAAW,CAAvC;AACD,CAHD;;IAIaQ,WAAW,GAAG,SAAdA,WAAc,CAACL,CAAD,EAAO;AAChC,MAAI,CAAC,EAAD,EAAK,KAAK,CAAV,EAAaJ,QAAb,CAAsBI,CAAtB,CAAJ,EAA8B;AAC5B,WAAO,CAAP;AACD;;AACD,MAAIM,SAAS,GAAGN,CAAC,CAACO,OAAF,CAAU,aAAV,EAAyB,EAAzB,EAA6BA,OAA7B,CAAqC,QAArC,EAA+C,GAA/C,CAAhB;;AACA,MAAIR,MAAM,CAACO,SAAD,CAAN,IAAqBH,QAAQ,CAACG,SAAD,CAA7B,IAA4CF,aAAa,CAACE,SAAD,CAA7D,EAA0E;AACxEA,IAAAA,SAAS,GAAGA,SAAS,CAACE,MAAV,CAAiB,CAAjB,EAAoBF,SAAS,CAACT,MAAV,GAAmB,CAAvC,CAAZ;AACD;;AACD,SAAOP,MAAM,CAACgB,SAAD,CAAb;AACD;;;;;;"}