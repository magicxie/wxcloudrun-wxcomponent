{"version":3,"file":"MenuItem.js","sources":["../../src/menu/MenuItem.tsx"],"sourcesContent":["import React, { FC, useContext, useRef } from 'react';\nimport classNames from 'classnames';\nimport useConfig from '../_util/useConfig';\nimport useRipple from '../_util/useRipple';\nimport { TdMenuItemProps } from './type';\nimport { StyledProps } from '../common';\nimport { MenuContext } from './MenuContext';\n\nexport interface MenuItemProps extends TdMenuItemProps, StyledProps {}\n\nconst MenuItem: FC<MenuItemProps> = (props) => {\n  const {\n    content,\n    children = content,\n    disabled,\n    href,\n    target = '_self',\n    value,\n    className,\n    style,\n    icon,\n    onClick,\n  } = props;\n  const { classPrefix } = useConfig();\n  // 斜八角动画\n  const menuItemRef = useRef();\n  useRipple(menuItemRef);\n\n  const { onChange, setState, active } = useContext(MenuContext);\n\n  const handleClick = (e: React.MouseEvent<HTMLLIElement>) => {\n    e.stopPropagation();\n    if (disabled || active === value) return;\n\n    onClick && onClick({ e });\n    onChange(value);\n    setState({ active: value });\n  };\n\n  return (\n    <li\n      ref={menuItemRef}\n      className={classNames(className, `${classPrefix}-menu__item`, {\n        [`${classPrefix}-is-disabled`]: disabled,\n        [`${classPrefix}-is-active`]: value === active,\n        [`${classPrefix}-menu__item--plain`]: !icon,\n      })}\n      style={{ ...style }}\n      onClick={handleClick}\n    >\n      {icon}\n      {href ? (\n        <a href={href} target={target} className={classNames(`${classPrefix}-menu__item-link`)}>\n          <span className={`${classPrefix}-menu__content`}>{children}</span>\n        </a>\n      ) : (\n        <span className={`${classPrefix}-menu__content`}>{children}</span>\n      )}\n    </li>\n  );\n};\n\nMenuItem.displayName = 'MenuItem';\n\nexport default MenuItem;\n"],"names":["MenuItem","props","content","children","disabled","href","target","value","className","style","icon","onClick","useConfig","classPrefix","menuItemRef","useRef","useRipple","useContext","MenuContext","onChange","setState","active","handleClick","e","stopPropagation","React","createElement","ref","classNames","displayName"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAKMA,QAAQ,GAAG,SAAXA,QAAW,CAACC,KAAD,EAAW;AAAA;;AAC1B,MACEC,OADF,GAWID,KAXJ,CACEC,OADF;AAAA,wBAWID,KAXJ,CAEEE,QAFF;AAAA,MAEEA,QAFF,gCAEaD,OAFb;AAAA,MAGEE,QAHF,GAWIH,KAXJ,CAGEG,QAHF;AAAA,MAIEC,IAJF,GAWIJ,KAXJ,CAIEI,IAJF;AAAA,sBAWIJ,KAXJ,CAKEK,MALF;AAAA,MAKEA,MALF,8BAKW,OALX;AAAA,MAMEC,KANF,GAWIN,KAXJ,CAMEM,KANF;AAAA,MAOEC,SAPF,GAWIP,KAXJ,CAOEO,SAPF;AAAA,MAQEC,KARF,GAWIR,KAXJ,CAQEQ,KARF;AAAA,MASEC,IATF,GAWIT,KAXJ,CASES,IATF;AAAA,MAUEC,OAVF,GAWIV,KAXJ,CAUEU,OAVF;;AAYA,mBAAwBC,0BAAS,EAAjC;AAAA,MAAQC,WAAR,cAAQA,WAAR;;AACA,MAAMC,WAAW,GAAGC,YAAM,EAA1B;AACAC,EAAAA,0BAAS,CAACF,WAAD,CAAT;;AACA,oBAAuCG,gBAAU,CAACC,4BAAD,CAAjD;AAAA,MAAQC,QAAR,eAAQA,QAAR;AAAA,MAAkBC,QAAlB,eAAkBA,QAAlB;AAAA,MAA4BC,MAA5B,eAA4BA,MAA5B;;AACA,MAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,CAAD,EAAO;AACzBA,IAAAA,CAAC,CAACC,eAAF;AACA,QAAIpB,QAAQ,IAAIiB,MAAM,KAAKd,KAA3B,EACE;AACFI,IAAAA,OAAO,IAAIA,OAAO,CAAC;AAAEY,MAAAA,CAAC,EAADA;AAAF,KAAD,CAAlB;AACAJ,IAAAA,QAAQ,CAACZ,KAAD,CAAR;AACAa,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,MAAM,EAAEd;AAAV,KAAD,CAAR;AACD,GAPD;;AAQA,wBAAuBkB,yBAAK,CAACC,aAAN,CAAoB,IAApB,EAA0B;AAC/CC,IAAAA,GAAG,EAAEb,WAD0C;AAE/CN,IAAAA,SAAS,EAAEoB,8BAAU,CAACpB,SAAD,YAAeK,WAAf,2FACfA,WADe,mBACaT,QADb,yDAEfS,WAFe,iBAEWN,KAAK,KAAKc,MAFrB,yDAGfR,WAHe,yBAGmB,CAACH,IAHpB,gBAF0B;AAO/CD,IAAAA,KAAK,oBAAOA,KAAP,CAP0C;AAQ/CE,IAAAA,OAAO,EAAEW;AARsC,GAA1B,EASpBZ,IAToB,EASdL,IAAI,kBAAmBoB,yBAAK,CAACC,aAAN,CAAoB,GAApB,EAAyB;AACvDrB,IAAAA,IAAI,EAAJA,IADuD;AAEvDC,IAAAA,MAAM,EAANA,MAFuD;AAGvDE,IAAAA,SAAS,EAAEoB,8BAAU,WAAIf,WAAJ;AAHkC,GAAzB,iBAIbY,yBAAK,CAACC,aAAN,CAAoB,MAApB,EAA4B;AAC7ClB,IAAAA,SAAS,YAAKK,WAAL;AADoC,GAA5B,EAEhBV,QAFgB,CAJa,CAAnB,kBAMmBsB,yBAAK,CAACC,aAAN,CAAoB,MAApB,EAA4B;AAC1DlB,IAAAA,SAAS,YAAKK,WAAL;AADiD,GAA5B,EAE7BV,QAF6B,CAfT,CAAvB;AAkBD;;AACDH,QAAQ,CAAC6B,WAAT,GAAuB,UAAvB;;;;"}