{"version":3,"file":"checkSubMenuChildExpanded.js","sources":["../../../src/menu/_util/checkSubMenuChildExpanded.ts"],"sourcesContent":["import React from 'react';\nimport { MenuValue } from '../type';\nimport { MenuBlockType } from './type';\n\nexport default function checkSubMenuChildExpanded(\n  children: React.ReactNode,\n  expanded: MenuValue[],\n  value: MenuValue,\n  resultExpanded: MenuValue[] = [],\n) {\n  const childValues = React.Children.map(children, (child: React.ReactElement) => child.props.value);\n  // 直接找到了目标节点\n  const index = childValues.indexOf(value);\n  // 找到对应的子节点\n  const child = children[index];\n  // 如果是 submenu 并且子节点存在\n  if (index > -1 && child.type.displayName === MenuBlockType.SubMenu) {\n    return [...resultExpanded, value];\n  }\n  // 否则寻找当前展开的节点是否是祖先节点\n  const expandedIndex = childValues.indexOf(expanded[0]);\n  const expandedChild = children[expandedIndex];\n  if (expandedIndex > -1 && expandedChild.type.displayName === MenuBlockType.SubMenu) {\n    return checkSubMenuChildExpanded(expandedChild.props.children, expanded.slice(1), value, [\n      ...resultExpanded,\n      expanded[0],\n    ]);\n  }\n\n  return [value];\n}\n"],"names":["checkSubMenuChildExpanded","children","expanded","value","resultExpanded","childValues","React","Children","map","child2","props","index","indexOf","child","type","displayName","MenuBlockType","SubMenu","expandedIndex","expandedChild","slice"],"mappings":";;;;;;;;;;;;;;;;;;;AAEe,SAASA,yBAAT,CAAmCC,QAAnC,EAA6CC,QAA7C,EAAuDC,KAAvD,EAAmF;AAAA,MAArBC,cAAqB,uEAAJ,EAAI;AAChG,MAAMC,WAAW,GAAGC,yBAAK,CAACC,QAAN,CAAeC,GAAf,CAAmBP,QAAnB,EAA6B,UAACQ,MAAD;AAAA,WAAYA,MAAM,CAACC,KAAP,CAAaP,KAAzB;AAAA,GAA7B,CAApB;AACA,MAAMQ,KAAK,GAAGN,WAAW,CAACO,OAAZ,CAAoBT,KAApB,CAAd;AACA,MAAMU,KAAK,GAAGZ,QAAQ,CAACU,KAAD,CAAtB;;AACA,MAAIA,KAAK,GAAG,CAAC,CAAT,IAAcE,KAAK,CAACC,IAAN,CAAWC,WAAX,KAA2BC,6BAAa,CAACC,OAA3D,EAAoE;AAClE,0DAAWb,cAAX,IAA2BD,KAA3B;AACD;;AACD,MAAMe,aAAa,GAAGb,WAAW,CAACO,OAAZ,CAAoBV,QAAQ,CAAC,CAAD,CAA5B,CAAtB;AACA,MAAMiB,aAAa,GAAGlB,QAAQ,CAACiB,aAAD,CAA9B;;AACA,MAAIA,aAAa,GAAG,CAAC,CAAjB,IAAsBC,aAAa,CAACL,IAAd,CAAmBC,WAAnB,KAAmCC,6BAAa,CAACC,OAA3E,EAAoF;AAClF,WAAOjB,yBAAyB,CAACmB,aAAa,CAACT,KAAd,CAAoBT,QAArB,EAA+BC,QAAQ,CAACkB,KAAT,CAAe,CAAf,CAA/B,EAAkDjB,KAAlD,iDAC3BC,cAD2B,IAE9BF,QAAQ,CAAC,CAAD,CAFsB,GAAhC;AAID;;AACD,SAAO,CAACC,KAAD,CAAP;AACD;;;;"}