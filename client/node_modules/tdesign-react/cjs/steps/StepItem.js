/**
 * tdesign v0.22.1
 * (c) 2022 tdesign
 * @license MIT
 */

'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var defineProperty = require('../_chunks/dep-449daca3.js');
var React = require('react');
var classNames = require('classnames');
var tdesignIconsReact = require('tdesign-icons-react');
var _util_useConfig = require('../_util/useConfig.js');
var steps_StepsContext = require('./StepsContext.js');
require('../config-provider/ConfigContext.js');
require('../locale/zh_CN.js');

function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }

var React__default = /*#__PURE__*/_interopDefaultLegacy(React);
var classNames__default = /*#__PURE__*/_interopDefaultLegacy(classNames);

function StepItem(props) {
  var _classnames;

  var icon = props.icon,
      title = props.title,
      content = props.content,
      value = props.value,
      children = props.children,
      style = props.style;
  var status = props.status;

  var _useContext = React.useContext(steps_StepsContext["default"]),
      current = _useContext.current,
      theme = _useContext.theme;

  var _useConfig = _util_useConfig["default"](),
      classPrefix = _useConfig.classPrefix;

  if (!status) {
    if (value < current) {
      status = "finish";
    } else if (value === current) {
      status = "process";
    } else {
      status = "default";
    }
  }

  var className = classNames__default["default"]((_classnames = {}, defineProperty._defineProperty(_classnames, "".concat(classPrefix, "-steps-item"), true), defineProperty._defineProperty(_classnames, "".concat(classPrefix, "-steps-item--wait"), status === "default"), defineProperty._defineProperty(_classnames, "".concat(classPrefix, "-steps-item--error"), status === "error"), defineProperty._defineProperty(_classnames, "".concat(classPrefix, "-steps-item--finish"), status === "finish"), defineProperty._defineProperty(_classnames, "".concat(classPrefix, "-steps-item--process"), status === "process"), defineProperty._defineProperty(_classnames, props.className, !!props.className), _classnames));
  var valueNum = Number(value);
  var iconEle = null;

  if (icon) {
    iconEle = icon;
  } else if (theme === "default") {
    switch (status) {
      case "error":
        iconEle = /* @__PURE__ */React__default["default"].createElement("span", {
          className: "".concat(classPrefix, "-steps-item__icon--number")
        }, /* @__PURE__ */React__default["default"].createElement(tdesignIconsReact.CloseIcon, null));
        break;

      case "finish":
        iconEle = /* @__PURE__ */React__default["default"].createElement("span", {
          className: "".concat(classPrefix, "-steps-item__icon--number")
        }, /* @__PURE__ */React__default["default"].createElement(tdesignIconsReact.CheckIcon, null));
        break;

      case "default":
      case "process":
        iconEle = /* @__PURE__ */React__default["default"].createElement("span", {
          className: "".concat(classPrefix, "-steps-item__icon--number")
        }, Number.isNaN(valueNum) ? value : valueNum + 1);
        break;
    }
  } else {
    iconEle = null;
  }

  return /* @__PURE__ */React__default["default"].createElement("div", {
    className: className,
    style: style
  }, /* @__PURE__ */React__default["default"].createElement("div", {
    className: "".concat(classPrefix, "-steps-item__inner")
  }, /* @__PURE__ */React__default["default"].createElement("div", {
    className: "".concat(classPrefix, "-steps-item__icon ").concat(status === "finish" ? "".concat(classPrefix, "-steps-item-finish") : "")
  }, iconEle), /* @__PURE__ */React__default["default"].createElement("div", {
    className: "".concat(classPrefix, "-steps-item__content")
  }, /* @__PURE__ */React__default["default"].createElement("div", {
    className: "".concat(classPrefix, "-steps-item__title")
  }, title), /* @__PURE__ */React__default["default"].createElement("div", {
    className: "".concat(classPrefix, "-steps-item__description")
  }, content), children ? /* @__PURE__ */React__default["default"].createElement("div", {
    className: "".concat(classPrefix, "-steps-item__extra")
  }, children) : null)));
}
StepItem.displayName = "StepItem";

exports["default"] = StepItem;
//# sourceMappingURL=StepItem.js.map
