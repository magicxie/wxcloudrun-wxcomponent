{"version":3,"file":"Tag.js","sources":["../../src/tag/Tag.tsx"],"sourcesContent":["import React from 'react';\nimport classNames from 'classnames';\nimport { CloseIcon } from 'tdesign-icons-react';\nimport noop from '../_util/noop';\nimport forwardRefWithStatics from '../_util/forwardRefWithStatics';\nimport useConfig from '../_util/useConfig';\nimport { StyledProps } from '../common';\nimport { TdTagProps } from './type';\nimport CheckTag from './CheckTag';\n\n/**\n * Tag 组件支持的属性。\n */\nexport interface TagProps extends TdTagProps, StyledProps {\n  /**\n   * 标签内容\n   */\n  children?: React.ReactNode;\n}\n\n/**\n * 标签组件\n */\nconst Tag = forwardRefWithStatics(\n  (props: TagProps, ref: React.Ref<HTMLSpanElement>) => {\n    const {\n      theme = 'default',\n      size = 'medium',\n      shape = 'square',\n      variant = 'dark',\n      closable,\n      maxWidth,\n      icon,\n      content,\n      onClick = noop,\n      onClose = noop,\n      className,\n      style,\n      disabled,\n      children,\n      ...otherTagProps\n    } = props;\n\n    const { classPrefix } = useConfig();\n    const tagClassPrefix = `${classPrefix}-tag`;\n\n    const sizeMap = {\n      large: `${classPrefix}-size-l`,\n      small: `${classPrefix}-size-s`,\n    };\n\n    const tagClassNames = classNames(\n      tagClassPrefix,\n      `${tagClassPrefix}--${theme}`,\n      `${tagClassPrefix}--${variant}`,\n      `${tagClassPrefix}--${size}`,\n      `${tagClassPrefix}--${shape}`,\n      {\n        [`${tagClassPrefix}--ellipsis`]: !!maxWidth,\n        [`${tagClassPrefix}--disabled`]: disabled,\n      },\n      sizeMap[size],\n      className,\n    );\n\n    /**\n     * 删除 Icon\n     */\n    const deleteIcon = <CloseIcon onClick={(e) => onClose({ e })} className={`${tagClassPrefix}__icon-close`} />;\n\n    const tag: JSX.Element = (\n      <span ref={ref} className={tagClassNames} onClick={(e) => onClick({ e })} {...otherTagProps}>\n        {icon}\n        {maxWidth ? (\n          <span className={`${tagClassPrefix}--text`} style={{ ...(style || {}), ...{ maxWidth } }}>\n            {content || children}\n          </span>\n        ) : (\n          content || children\n        )}\n        {closable && deleteIcon}\n      </span>\n    );\n\n    return tag;\n  },\n  {\n    CheckTag,\n  },\n);\n\nTag.displayName = 'Tag';\n\nexport default Tag;\n"],"names":["Tag","forwardRefWithStatics","props","ref","theme","size","shape","variant","closable","maxWidth","icon","content","onClick","noop","onClose","className","style","disabled","children","otherTagProps","useConfig","classPrefix","tagClassPrefix","sizeMap","large","small","tagClassNames","classNames","deleteIcon","React","createElement","CloseIcon","e","tag","CheckTag","displayName"],"mappings":"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"}