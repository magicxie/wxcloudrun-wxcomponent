/**
 * tdesign v0.22.1
 * (c) 2022 tdesign
 * @license MIT
 */

'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var defineProperty = require('../_chunks/dep-449daca3.js');
var slicedToArray = require('../_chunks/dep-fa36e79f.js');
var React = require('react');
var classNames = require('classnames');
var tdesignIconsReact = require('tdesign-icons-react');
var _util_noop = require('../_util/noop.js');
var _util_useDefaultValue = require('../_util/useDefaultValue.js');
var _util_useConfig = require('../_util/useConfig.js');
var popup_index = require('../popup/index.js');
var input_index = require('../input/index.js');
var timePicker_panel_TimePickerRangePanel = require('./panel/TimePickerRangePanel.js');
var timePicker_InputItems = require('./InputItems.js');
var timePicker_consts = require('./consts.js');
require('../_chunks/dep-045b87c1.js');
require('../_chunks/dep-e03ca79d.js');
require('../_util/useDefault.js');
require('../config-provider/ConfigContext.js');
require('../locale/zh_CN.js');
require('../popup/Popup.js');
require('react-transition-group');
require('react-popper');
require('../_util/composeRefs.js');
require('../_util/usePrevious.js');
require('../popup/Portal.js');
require('react-dom');
require('../popup/hooks/useTriggerProps.js');
require('../_util/useClickOutside.js');
require('../popup/hooks/usePopupCssTransition.js');
require('../input/Input.js');
require('../_chunks/dep-1bafebb1.js');
require('../_chunks/dep-0e3f1753.js');
require('../_chunks/dep-a7666a95.js');
require('../_chunks/dep-735b841a.js');
require('../_util/forwardRefWithStatics.js');
require('hoist-non-react-statics');
require('../input/InputGroup.js');
require('dayjs');
require('./panel/SinglePanel.js');
require('../_chunks/dep-228a3548.js');
require('../_chunks/dep-8bb9b7ba.js');
require('../_chunks/dep-9c74d22d.js');
require('../_chunks/dep-48870ae5.js');
require('../_chunks/dep-99d6d655.js');
require('../_chunks/dep-7a0cfc4c.js');
require('../_chunks/dep-9125a75e.js');
require('../_chunks/dep-bc486aab.js');
require('../_chunks/dep-c7adf4af.js');
require('../_chunks/dep-942a7aba.js');
require('../_chunks/dep-5e46865d.js');
require('../_chunks/dep-059e74d9.js');
require('../_chunks/dep-6681bc7b.js');
require('../_chunks/dep-f445e9bb.js');
require('../_chunks/dep-72511bfe.js');
require('../_chunks/dep-7d00ab60.js');
require('./interfaces.js');
require('../button/index.js');
require('../button/Button.js');
require('../_util/useRipple.js');
require('../_util/setStyle.js');
require('../loading/index.js');
require('../loading/loading.js');
require('../_util/dom.js');
require('raf');
require('../_chunks/dep-0705da20.js');
require('../_util/easing.js');
require('../common/Portal.js');
require('../loading/gradient.js');
require('../loading/plugin.js');
require('../_chunks/dep-8f3deb2a.js');
require('../locale/LocalReceiver.js');

function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }

var React__default = /*#__PURE__*/_interopDefaultLegacy(React);
var classNames__default = /*#__PURE__*/_interopDefaultLegacy(classNames);

var TimeRangePicker = function TimeRangePicker(props) {
  var TEXT_CONFIG = timePicker_consts.useTimePickerTextConfig();

  var _useDefaultValue = _util_useDefaultValue["default"](props),
      allowInput = _useDefaultValue.allowInput,
      clearable = _useDefaultValue.clearable,
      disabled = _useDefaultValue.disabled,
      _useDefaultValue$form = _useDefaultValue.format,
      format = _useDefaultValue$form === void 0 ? "HH:mm:ss" : _useDefaultValue$form,
      _useDefaultValue$hide = _useDefaultValue.hideDisabledTime,
      hideDisabledTime = _useDefaultValue$hide === void 0 ? true : _useDefaultValue$hide,
      _useDefaultValue$plac = _useDefaultValue.placeholder,
      placeholder = _useDefaultValue$plac === void 0 ? TEXT_CONFIG.placeholder : _useDefaultValue$plac,
      _useDefaultValue$size = _useDefaultValue.size,
      size = _useDefaultValue$size === void 0 ? "medium" : _useDefaultValue$size,
      _useDefaultValue$step = _useDefaultValue.steps,
      steps = _useDefaultValue$step === void 0 ? [1, 1, 1] : _useDefaultValue$step,
      value = _useDefaultValue.value,
      _useDefaultValue$onBl = _useDefaultValue.onBlur,
      onBlur = _useDefaultValue$onBl === void 0 ? _util_noop["default"] : _useDefaultValue$onBl,
      onChange = _useDefaultValue.onChange,
      _useDefaultValue$onFo = _useDefaultValue.onFocus,
      onFocus = _useDefaultValue$onFo === void 0 ? _util_noop["default"] : _useDefaultValue$onFo,
      _useDefaultValue$onIn = _useDefaultValue.onInput,
      onInput = _useDefaultValue$onIn === void 0 ? _util_noop["default"] : _useDefaultValue$onIn,
      style = _useDefaultValue.style,
      className = _useDefaultValue.className;

  var _useConfig = _util_useConfig["default"](),
      classPrefix = _useConfig.classPrefix;

  var name = "".concat(classPrefix, "-time-picker");

  var _useState = React.useState(false),
      _useState2 = slicedToArray._slicedToArray(_useState, 2),
      isPanelShowed = _useState2[0],
      setPanelShow = _useState2[1];

  var inputClasses = classNames__default["default"]("".concat(name, "__group"), defineProperty._defineProperty({}, "".concat(classPrefix, "-is-focused"), isPanelShowed));

  var handleShowPopup = function handleShowPopup(visible) {
    setPanelShow(visible);
  };

  var handleClear = function handleClear(context) {
    var e = context.e;
    e.stopPropagation();
    onChange(null);
  };

  return /* @__PURE__ */React__default["default"].createElement(popup_index.Popup, {
    content: /* @__PURE__ */React__default["default"].createElement(timePicker_panel_TimePickerRangePanel["default"], {
      steps: steps,
      format: format,
      hideDisabledTime: hideDisabledTime,
      isFooterDisplay: true,
      value: value,
      onChange: onChange,
      handleConfirmClick: function handleConfirmClick(value2) {
        onChange(value2);
        setPanelShow(false);
      }
    }),
    disabled: disabled,
    placement: "bottom-left",
    visible: isPanelShowed,
    onVisibleChange: handleShowPopup,
    trigger: "click",
    expandAnimation: true
  }, /* @__PURE__ */React__default["default"].createElement("div", {
    className: classNames__default["default"](name, className),
    style: style
  }, /* @__PURE__ */React__default["default"].createElement(input_index.Input, {
    size: size,
    readonly: true,
    clearable: clearable,
    className: inputClasses,
    value: value ? " " : void 0,
    onClear: handleClear,
    disabled: disabled,
    placeholder: !value ? placeholder : void 0,
    suffixIcon: /* @__PURE__ */React__default["default"].createElement(tdesignIconsReact.TimeIcon, null)
  }), value ? /* @__PURE__ */React__default["default"].createElement(timePicker_InputItems["default"], {
    disabled: disabled,
    format: format,
    placeholder: placeholder,
    allowInput: allowInput,
    value: value,
    onBlur: onBlur,
    onFocus: onFocus,
    onInput: onInput,
    onChange: onChange
  }) : null));
};

TimeRangePicker.displayName = "TimeRangePicker";

exports["default"] = TimeRangePicker;
//# sourceMappingURL=TimeRangePicker.js.map
