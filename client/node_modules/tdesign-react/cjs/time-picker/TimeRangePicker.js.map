{"version":3,"file":"TimeRangePicker.js","sources":["../../src/time-picker/TimeRangePicker.tsx"],"sourcesContent":["import React, { FC, useState } from 'react';\nimport classNames from 'classnames';\n\nimport { TimeIcon } from 'tdesign-icons-react';\nimport noop from '../_util/noop';\nimport useDefaultValue from '../_util/useDefaultValue';\nimport useConfig from '../_util/useConfig';\nimport Popup from '../popup';\nimport Input from '../input';\nimport TimeRangePickerPanel from './panel/TimePickerRangePanel';\nimport InputItems from './InputItems';\n\nimport { useTimePickerTextConfig } from './consts';\n\nimport { TdTimeRangePickerProps } from './type';\nimport { StyledProps } from '../common';\n\nexport interface TimeRangePickerProps extends TdTimeRangePickerProps, StyledProps {}\n\nconst TimeRangePicker: FC<TimeRangePickerProps> = (props) => {\n  const TEXT_CONFIG = useTimePickerTextConfig();\n\n  const {\n    allowInput,\n    clearable,\n    disabled, // TODO array形式\n    format = 'HH:mm:ss',\n    hideDisabledTime = true,\n    placeholder = TEXT_CONFIG.placeholder, // TODO array形式\n    size = 'medium',\n    steps = [1, 1, 1],\n    value,\n    onBlur = noop,\n    onChange,\n    onFocus = noop,\n    onInput = noop,\n    style,\n    className,\n  } = useDefaultValue(props);\n\n  const { classPrefix } = useConfig();\n\n  const name = `${classPrefix}-time-picker`;\n\n  const [isPanelShowed, setPanelShow] = useState(false);\n  const inputClasses = classNames(`${name}__group`, {\n    [`${classPrefix}-is-focused`]: isPanelShowed,\n  });\n\n  const handleShowPopup = (visible: boolean) => {\n    setPanelShow(visible);\n  };\n\n  const handleClear = (context: { e: React.MouseEvent }) => {\n    const { e } = context;\n    e.stopPropagation();\n    onChange(null);\n  };\n\n  return (\n    <Popup\n      content={\n        <TimeRangePickerPanel\n          steps={steps}\n          format={format}\n          hideDisabledTime={hideDisabledTime}\n          isFooterDisplay={true}\n          value={value}\n          onChange={onChange}\n          handleConfirmClick={(value) => {\n            onChange(value);\n            setPanelShow(false);\n          }}\n        />\n      }\n      disabled={disabled as boolean}\n      placement=\"bottom-left\"\n      visible={isPanelShowed}\n      onVisibleChange={handleShowPopup}\n      trigger=\"click\"\n      expandAnimation={true}\n    >\n      <div className={classNames(name, className)} style={style}>\n        <Input\n          size={size}\n          readonly={true}\n          clearable={clearable}\n          className={inputClasses}\n          value={value ? ' ' : undefined}\n          onClear={handleClear}\n          disabled={disabled as boolean}\n          placeholder={!value ? (placeholder as string) : undefined}\n          suffixIcon={<TimeIcon />}\n        />\n        {value ? (\n          <InputItems\n            disabled={disabled}\n            format={format}\n            placeholder={placeholder}\n            allowInput={allowInput}\n            value={value}\n            onBlur={onBlur}\n            onFocus={onFocus}\n            onInput={onInput}\n            onChange={onChange}\n          />\n        ) : null}\n      </div>\n    </Popup>\n  );\n};\n\nTimeRangePicker.displayName = 'TimeRangePicker';\n\nexport default TimeRangePicker;\n"],"names":["TimeRangePicker","props","TEXT_CONFIG","useTimePickerTextConfig","useDefaultValue","allowInput","clearable","disabled","format","hideDisabledTime","placeholder","size","steps","value","onBlur","noop","onChange","onFocus","onInput","style","className","useConfig","classPrefix","name","useState","isPanelShowed","setPanelShow","inputClasses","classNames","handleShowPopup","visible","handleClear","context","e","stopPropagation","React","createElement","Popup","content","TimeRangePickerPanel","isFooterDisplay","handleConfirmClick","value2","placement","onVisibleChange","trigger","expandAnimation","Input","readonly","onClear","suffixIcon","TimeIcon","InputItems","displayName"],"mappings":"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"}