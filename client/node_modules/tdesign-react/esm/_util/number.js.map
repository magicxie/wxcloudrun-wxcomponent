{"version":3,"file":"number.js","sources":["../../src/_util/number.ts"],"sourcesContent":["/**\n ** 加法函数，用来得到精确的加法结果\n ** 说明：javascript的加法结果会有误差，在两个浮点数相加的时候会比较明显。这个函数返回较为精确的加法结果。\n ** 调用：accAdd(arg1,arg2)\n ** 返回值：arg1加上arg2的精确结果\n * */\nexport function accAdd(arg1, arg2) {\n  let r1 = 0;\n  let r2 = 0;\n  let newArg1 = arg1;\n  let newArg2 = arg2;\n  try {\n    r1 = arg1.toString().split('.')[1].length;\n  } catch (e) {\n    r1 = 0;\n  }\n  try {\n    r2 = arg2.toString().split('.')[1].length;\n  } catch (e) {\n    r2 = 0;\n  }\n  const c = Math.abs(r1 - r2);\n  const m = 10 ** Math.max(r1, r2);\n  if (c > 0) {\n    const cm = 10 ** c;\n    if (r1 > r2) {\n      newArg1 = Number(arg1.toString().replace('.', ''));\n      newArg2 = Number(arg2.toString().replace('.', '')) * cm;\n    } else {\n      newArg1 = Number(arg1.toString().replace('.', '')) * cm;\n      newArg2 = Number(arg2.toString().replace('.', ''));\n    }\n  } else {\n    newArg1 = Number(arg1.toString().replace('.', ''));\n    newArg2 = Number(arg2.toString().replace('.', ''));\n  }\n  return (newArg1 + newArg2) / m;\n}\n"],"names":["accAdd","arg1","arg2","r1","r2","newArg1","newArg2","toString","split","length","e","c","Math","abs","m","max","cm","Number","replace"],"mappings":";;;;;;AAAO,SAASA,MAAT,CAAgBC,IAAhB,EAAsBC,IAAtB,EAA4B;AACjC,MAAIC,EAAE,GAAG,CAAT;AACA,MAAIC,EAAE,GAAG,CAAT;AACA,MAAIC,OAAO,GAAGJ,IAAd;AACA,MAAIK,OAAO,GAAGJ,IAAd;;AACA,MAAI;AACFC,IAAAA,EAAE,GAAGF,IAAI,CAACM,QAAL,GAAgBC,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,EAA8BC,MAAnC;AACD,GAFD,CAEE,OAAOC,CAAP,EAAU;AACVP,IAAAA,EAAE,GAAG,CAAL;AACD;;AACD,MAAI;AACFC,IAAAA,EAAE,GAAGF,IAAI,CAACK,QAAL,GAAgBC,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,EAA8BC,MAAnC;AACD,GAFD,CAEE,OAAOC,CAAP,EAAU;AACVN,IAAAA,EAAE,GAAG,CAAL;AACD;;AACD,MAAMO,CAAC,GAAGC,IAAI,CAACC,GAAL,CAASV,EAAE,GAAGC,EAAd,CAAV;AACA,MAAMU,CAAC,YAAG,EAAH,EAASF,IAAI,CAACG,GAAL,CAASZ,EAAT,EAAaC,EAAb,CAAT,CAAP;;AACA,MAAIO,CAAC,GAAG,CAAR,EAAW;AACT,QAAMK,EAAE,YAAG,EAAH,EAASL,CAAT,CAAR;;AACA,QAAIR,EAAE,GAAGC,EAAT,EAAa;AACXC,MAAAA,OAAO,GAAGY,MAAM,CAAChB,IAAI,CAACM,QAAL,GAAgBW,OAAhB,CAAwB,GAAxB,EAA6B,EAA7B,CAAD,CAAhB;AACAZ,MAAAA,OAAO,GAAGW,MAAM,CAACf,IAAI,CAACK,QAAL,GAAgBW,OAAhB,CAAwB,GAAxB,EAA6B,EAA7B,CAAD,CAAN,GAA2CF,EAArD;AACD,KAHD,MAGO;AACLX,MAAAA,OAAO,GAAGY,MAAM,CAAChB,IAAI,CAACM,QAAL,GAAgBW,OAAhB,CAAwB,GAAxB,EAA6B,EAA7B,CAAD,CAAN,GAA2CF,EAArD;AACAV,MAAAA,OAAO,GAAGW,MAAM,CAACf,IAAI,CAACK,QAAL,GAAgBW,OAAhB,CAAwB,GAAxB,EAA6B,EAA7B,CAAD,CAAhB;AACD;AACF,GATD,MASO;AACLb,IAAAA,OAAO,GAAGY,MAAM,CAAChB,IAAI,CAACM,QAAL,GAAgBW,OAAhB,CAAwB,GAAxB,EAA6B,EAA7B,CAAD,CAAhB;AACAZ,IAAAA,OAAO,GAAGW,MAAM,CAACf,IAAI,CAACK,QAAL,GAAgBW,OAAhB,CAAwB,GAAxB,EAA6B,EAA7B,CAAD,CAAhB;AACD;;AACD,SAAO,CAACb,OAAO,GAAGC,OAAX,IAAsBQ,CAA7B;AACD;;;;"}