{"version":3,"file":"Badge.js","sources":["../../src/badge/Badge.tsx"],"sourcesContent":["import React from 'react';\nimport classNames from 'classnames';\nimport { StyledProps } from '../common';\nimport useConfig from '../_util/useConfig';\nimport { TdBadgeProps } from './type';\n\nexport interface BadgeProps extends TdBadgeProps, StyledProps {}\n\nconst Badge: React.FC<BadgeProps> = ({\n  color,\n  dot = false,\n  maxCount = 99,\n  count,\n  size = 'medium',\n  shape = 'circle',\n  showZero = false,\n  offset = [],\n  className,\n  children = null,\n  style = {},\n  ...restProps\n}) => {\n  const { classPrefix } = useConfig();\n\n  const badgeClassName = classNames(\n    !children && `${classPrefix}-badge--static`,\n    dot ? `${classPrefix}-badge--dot` : shape && `${classPrefix}-badge--${shape}`,\n    size === 'small' && `${classPrefix}-size-s`,\n    !children && className,\n  );\n  const getDisplayCount = () => {\n    if (typeof count === 'number' && count > maxCount) {\n      return `${maxCount}+`;\n    }\n    return count;\n  };\n\n  let isHidden = !count;\n  if (typeof count === 'number') {\n    isHidden = count < 1 && !showZero;\n  }\n\n  const getStyle = () => {\n    const mergedStyle: React.CSSProperties = { ...style };\n    if (color) mergedStyle.backgroundColor = color;\n    if (offset) {\n      if (offset[0]) {\n        mergedStyle.right = -offset[0];\n      }\n      if (offset[1]) {\n        mergedStyle.marginTop = -offset[1];\n      }\n    }\n    return mergedStyle;\n  };\n\n  const badge = !isHidden ? (\n    <span {...(children ? {} : restProps)} className={badgeClassName} style={getStyle()}>\n      {!dot ? getDisplayCount() : null}\n    </span>\n  ) : null;\n\n  if (!children) return badge;\n\n  return (\n    <span {...restProps} className={classNames(`${classPrefix}-badge`, className)}>\n      {children}\n      {badge}\n    </span>\n  );\n};\n\nBadge.displayName = 'Badge';\n\nexport default Badge;\n"],"names":["Badge","color","dot","maxCount","count","size","shape","showZero","offset","className","children","style","restProps","useConfig","classPrefix","badgeClassName","classNames","getDisplayCount","isHidden","getStyle","mergedStyle","backgroundColor","right","marginTop","badge","React","createElement","displayName"],"mappings":";;;;;;;;;;;;;;;;;;;;IAGMA,KAAK,GAAG,SAARA,KAAQ,OAaR;AAAA,MAZJC,KAYI,QAZJA,KAYI;AAAA,sBAXJC,GAWI;AAAA,MAXJA,GAWI,yBAXE,KAWF;AAAA,2BAVJC,QAUI;AAAA,MAVJA,QAUI,8BAVO,EAUP;AAAA,MATJC,KASI,QATJA,KASI;AAAA,uBARJC,IAQI;AAAA,MARJA,IAQI,0BARG,QAQH;AAAA,wBAPJC,KAOI;AAAA,MAPJA,KAOI,2BAPI,QAOJ;AAAA,2BANJC,QAMI;AAAA,MANJA,QAMI,8BANO,KAMP;AAAA,yBALJC,MAKI;AAAA,MALJA,MAKI,4BALK,EAKL;AAAA,MAJJC,SAII,QAJJA,SAII;AAAA,2BAHJC,QAGI;AAAA,MAHJA,QAGI,8BAHO,IAGP;AAAA,wBAFJC,KAEI;AAAA,MAFJA,KAEI,2BAFI,EAEJ;AAAA,MADDC,SACC;;AACJ,mBAAwBC,SAAS,EAAjC;AAAA,MAAQC,WAAR,cAAQA,WAAR;;AACA,MAAMC,cAAc,GAAGC,UAAU,CAAC,CAACN,QAAD,cAAgBI,WAAhB,mBAAD,EAA8CZ,GAAG,aAAMY,WAAN,mBAAiCR,KAAK,cAAOQ,WAAP,qBAA6BR,KAA7B,CAAvF,EAA6HD,IAAI,KAAK,OAAT,cAAuBS,WAAvB,YAA7H,EAA0K,CAACJ,QAAD,IAAaD,SAAvL,CAAjC;;AACA,MAAMQ,eAAe,GAAG,SAAlBA,eAAkB,GAAM;AAC5B,QAAI,OAAOb,KAAP,KAAiB,QAAjB,IAA6BA,KAAK,GAAGD,QAAzC,EAAmD;AACjD,uBAAUA,QAAV;AACD;;AACD,WAAOC,KAAP;AACD,GALD;;AAMA,MAAIc,QAAQ,GAAG,CAACd,KAAhB;;AACA,MAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;AAC7Bc,IAAAA,QAAQ,GAAGd,KAAK,GAAG,CAAR,IAAa,CAACG,QAAzB;AACD;;AACD,MAAMY,QAAQ,GAAG,SAAXA,QAAW,GAAM;AACrB,QAAMC,WAAW,qBAAQT,KAAR,CAAjB;;AACA,QAAIV,KAAJ,EACEmB,WAAW,CAACC,eAAZ,GAA8BpB,KAA9B;;AACF,QAAIO,MAAJ,EAAY;AACV,UAAIA,MAAM,CAAC,CAAD,CAAV,EAAe;AACbY,QAAAA,WAAW,CAACE,KAAZ,GAAoB,CAACd,MAAM,CAAC,CAAD,CAA3B;AACD;;AACD,UAAIA,MAAM,CAAC,CAAD,CAAV,EAAe;AACbY,QAAAA,WAAW,CAACG,SAAZ,GAAwB,CAACf,MAAM,CAAC,CAAD,CAA/B;AACD;AACF;;AACD,WAAOY,WAAP;AACD,GAbD;;AAcA,MAAMI,KAAK,GAAG,CAACN,QAAD,kBAA4BO,KAAK,CAACC,aAAN,CAAoB,MAApB,kCACrChB,QAAQ,GAAG,EAAH,GAAQE,SADqB;AAExCH,IAAAA,SAAS,EAAEM,cAF6B;AAGxCJ,IAAAA,KAAK,EAAEQ,QAAQ;AAHyB,MAIvC,CAACjB,GAAD,GAAOe,eAAe,EAAtB,GAA2B,IAJY,CAA5B,GAIwB,IAJtC;AAKA,MAAI,CAACP,QAAL,EACE,OAAOc,KAAP;AACF,wBAAuBC,KAAK,CAACC,aAAN,CAAoB,MAApB,kCAClBd,SADkB;AAErBH,IAAAA,SAAS,EAAEO,UAAU,WAAIF,WAAJ,aAAyBL,SAAzB;AAFA,MAGpBC,QAHoB,EAGVc,KAHU,CAAvB;AAID;;AACDxB,KAAK,CAAC2B,WAAN,GAAoB,OAApB;;;;"}