{"version":3,"file":"Col.js","sources":["../../src/grid/Col.tsx"],"sourcesContent":["import React from 'react';\nimport classNames from 'classnames';\nimport isObject from 'lodash/isObject';\nimport useConfig from '../_util/useConfig';\nimport { StyledProps } from '../common';\nimport { TdColProps, TdRowProps } from './type';\n\ntype FlexType = number | 'none' | 'auto' | string;\n\n/**\n * Divider 组件支持的属性。\n */\nexport interface ColProps extends TdColProps, StyledProps {\n  /**\n   * 文本内容\n   */\n  children?: React.ReactNode;\n}\n\nconst calcColPadding = (gutter: TdRowProps['gutter'], currentSize: string) => {\n  const paddingObj = {};\n  if (typeof gutter === 'number') {\n    Object.assign(paddingObj, {\n      paddingLeft: `${gutter / 2}px`,\n      paddingRight: `${gutter / 2}px`,\n    });\n  } else if (Array.isArray(gutter) && gutter.length) {\n    if (typeof gutter[0] === 'number') {\n      Object.assign(paddingObj, {\n        paddingLeft: `${gutter[0] / 2}px`,\n        paddingRight: `${gutter[0] / 2}px`,\n      });\n    }\n\n    if (isObject(gutter[0]) && gutter[0][currentSize]) {\n      Object.assign(paddingObj, {\n        paddingLeft: `${gutter[0][currentSize] / 2}px`,\n        paddingRight: `${gutter[0][currentSize] / 2}px`,\n      });\n    }\n  } else if (isObject(gutter) && gutter[currentSize]) {\n    Object.assign(paddingObj, {\n      paddingLeft: `${gutter[currentSize] / 2}px`,\n      paddingRight: `${gutter[currentSize] / 2}px`,\n    });\n  }\n  return paddingObj;\n};\n\nconst parseFlex = (flex: FlexType) => {\n  if (typeof flex === 'number') {\n    return `${flex} ${flex} auto`;\n  }\n\n  if (/^\\d+(\\.\\d+)?(px|r?em|%)$/.test(flex)) {\n    return `0 0 ${flex}`;\n  }\n\n  return flex;\n};\n\n/**\n * Col组件\n */\nconst Col = (props: ColProps | any) => {\n  const {\n    flex,\n    offset,\n    order,\n    pull,\n    push,\n    span,\n    tag = 'div',\n    className,\n    children,\n    style: propStyle,\n    ...otherColProps\n  } = props;\n  const { gutter: rowGutter, size: rowSize } = otherColProps;\n\n  const { classPrefix } = useConfig();\n  const allSizes = ['xs', 'sm', 'md', 'lg', 'xl', 'xxl'];\n  const sizeClasses = allSizes.reduce((acc, currSize) => {\n    const sizeProp = props[currSize];\n    let sizeObj: any = {};\n    if (typeof sizeProp === 'number') {\n      sizeObj.span = sizeProp;\n    } else if (isObject(sizeProp)) {\n      sizeObj = sizeProp || {};\n    }\n\n    return {\n      ...acc,\n      [`${classPrefix}-col-${currSize}-${sizeObj.span}`]: sizeObj.span !== undefined,\n      [`${classPrefix}-col-${currSize}-order-${sizeObj.order}`]: parseInt(sizeObj.order, 10) >= 0,\n      [`${classPrefix}-col-${currSize}-offset-${sizeObj.offset}`]: parseInt(sizeObj.offset, 10) >= 0,\n      [`${classPrefix}-col-${currSize}-push-${sizeObj.push}`]: parseInt(sizeObj.push, 10) >= 0,\n      [`${classPrefix}-col-${currSize}-pull-${sizeObj.pull}`]: parseInt(sizeObj.pull, 10) >= 0,\n    };\n  }, {});\n\n  const colClassNames = classNames(\n    `${classPrefix}-col`,\n    className,\n    {\n      [`${classPrefix}-col-${span}`]: span !== undefined,\n      [`${classPrefix}-col-offset-${offset}`]: parseInt(offset, 10) >= 0,\n      [`${classPrefix}-col-pull-${pull}`]: parseInt(pull, 10) >= 0,\n      [`${classPrefix}-col-push-${push}`]: parseInt(push, 10) >= 0,\n      [`${classPrefix}-col-order-${order}`]: parseInt(order, 10) >= 0,\n    },\n    sizeClasses,\n  );\n\n  const colStyle = {\n    ...calcColPadding(rowGutter, rowSize),\n    ...propStyle,\n  };\n  flex && (colStyle.flex = parseFlex(flex));\n\n  return React.createElement(\n    tag,\n    {\n      className: colClassNames,\n      style: colStyle,\n      ...otherColProps,\n    },\n    children,\n  );\n};\n\nCol.displayName = 'Col';\n\nexport default Col;\n"],"names":["calcColPadding","gutter","currentSize","paddingObj","Object","assign","paddingLeft","paddingRight","Array","isArray","length","isObject","parseFlex","flex","test","Col","props","offset","order","pull","push","span","tag","className","children","propStyle","style","otherColProps","rowGutter","rowSize","size","useConfig","classPrefix","allSizes","sizeClasses","reduce","acc","currSize","sizeProp","sizeObj","parseInt","colClassNames","classNames","colStyle","React","createElement","displayName"],"mappings":"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"}