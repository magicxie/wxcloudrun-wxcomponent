{"version":3,"file":"InputNumber.js","sources":["../../src/input-number/InputNumber.tsx"],"sourcesContent":["import React, {\n  forwardRef,\n  useState,\n  useCallback,\n  useMemo,\n  FocusEventHandler,\n  KeyboardEventHandler,\n  useEffect,\n} from 'react';\nimport classNames from 'classnames';\n\nimport { StyledProps } from '../common';\nimport { TdInputNumberProps, ChangeContext as TdChangeContext } from './type';\n\nimport useConfig from '../_util/useConfig';\nimport useCommonClassName from '../_util/useCommonClassName';\nimport useUpdateEffect from '../_util/useUpdateEffect';\n\nimport StepHandler from './StepHandler';\nimport * as numberUtils from './utils/numberUtils';\nimport Input from '../input';\n\nexport type InputNumberInternalValue = number | string;\nexport type ChangeContext = TdChangeContext & { value?: number };\nexport interface InputNumberProps extends TdInputNumberProps, StyledProps {}\n\nconst InputNumber = forwardRef((props: InputNumberProps, ref: React.Ref<HTMLInputElement>) => {\n  const {\n    className,\n    style,\n    defaultValue,\n    value,\n    disabled = false,\n    size = 'medium',\n    theme = 'row',\n    step = 1,\n    max = Number.MAX_SAFE_INTEGER,\n    min = Number.MIN_SAFE_INTEGER,\n    decimalPlaces,\n    format,\n    onChange,\n    onBlur,\n    onFocus,\n    onEnter,\n    onKeydown,\n    onKeyup,\n    onKeypress,\n\n    ...restInputProps\n  } = props;\n\n  const { classPrefix } = useConfig();\n  const commonClassNames = useCommonClassName();\n  const componentType = 'input-number';\n  const inputClassName = `${classPrefix}-${componentType}`;\n\n  const getRangeValue = (value: number) => {\n    if (value < min) return min;\n    if (value > max) return max;\n\n    return value;\n  };\n\n  const [internalInputValue, setInternalInputValue] = useState<InputNumberInternalValue>(() => {\n    let initialValue: InputNumberInternalValue = '';\n    if (!numberUtils.isInvalidNumber(defaultValue)) {\n      initialValue = getRangeValue(Number(defaultValue));\n    }\n    if (!numberUtils.isInvalidNumber(value)) {\n      initialValue = value;\n    }\n\n    if (format && initialValue !== '') {\n      return format(getRangeValue(Number(initialValue))) || '';\n    }\n\n    return initialValue;\n  });\n\n  let decimalValue: number = internalInputValue as number;\n  if (typeof internalInputValue === 'string') {\n    decimalValue = numberUtils.strToNumber(internalInputValue) || 0;\n  }\n\n  const setInputValue = (inputStr: string) => {\n    if (['', undefined].includes(inputStr)) {\n      return setInternalInputValue('');\n    }\n\n    const formattedInputValue = format?.(Number(inputStr)) ?? inputStr;\n    setInternalInputValue(formattedInputValue);\n  };\n\n  const [isError, setError] = useState<boolean>(false);\n  const disabledDecrease = disabled || isError || decimalValue - step < min;\n  const disabledIncrease = disabled || isError || decimalValue + step > max;\n\n  const isOutOfRange = (number: number): boolean => number > max || number < min;\n  const checkInput = (inputStr: InputNumberInternalValue): boolean => {\n    if (inputStr === '') {\n      setError(false);\n      return true;\n    }\n\n    const hasError = numberUtils.isInvalidNumber(inputStr) || isOutOfRange(Number(inputStr));\n    setError(hasError);\n    return !hasError;\n  };\n\n  const stepPrecision = useMemo(() => numberUtils.getNumberPrecision(step), [step]);\n\n  const getPrecision = useCallback(\n    (str: InputNumberInternalValue): number => {\n      const numberPrecision = numberUtils.getNumberPrecision(str);\n\n      return decimalPlaces ?? Math.max(numberPrecision, stepPrecision);\n    },\n    [stepPrecision, decimalPlaces],\n  );\n\n  useEffect(() => {\n    if (value !== undefined) {\n      checkInput(value);\n    }\n  }, [value]); // eslint-disable-line\n\n  useUpdateEffect(() => {\n    setInputValue((value ?? '').toString());\n  }, [value]);\n\n  const triggerValueUpdate = (action: ChangeContext) => {\n    const { value, ...context } = action;\n    if (!disabled) {\n      onChange?.(value, context);\n    }\n  };\n\n  const onInternalInput = (inputStr: string, { e }) => {\n    if (inputStr === '') {\n      setInputValue(inputStr);\n      return triggerValueUpdate({ type: 'input', value: undefined, e });\n    }\n\n    const filteredInputStr = numberUtils.strToNumber(inputStr);\n    if (Number.isNaN(filteredInputStr)) {\n      setInternalInputValue(inputStr);\n      if (!checkInput(inputStr)) return;\n    }\n\n    setInputValue(filteredInputStr.toString());\n    if (!checkInput(filteredInputStr)) return;\n    triggerValueUpdate({ type: 'input', value: filteredInputStr, e });\n  };\n\n  const onInternalStep = (action: ChangeContext) => {\n    const { type, e } = action;\n    const currentValue = decimalValue || 0;\n    const precision = getPrecision(currentValue);\n\n    let updateValue;\n    switch (type) {\n      case 'add': {\n        updateValue = Number((currentValue + step).toFixed(precision));\n        break;\n      }\n      case 'reduce': {\n        updateValue = Number((currentValue - step).toFixed(precision));\n        break;\n      }\n    }\n\n    setInputValue(updateValue);\n    triggerValueUpdate({ value: updateValue, type, e });\n    e.preventDefault();\n  };\n\n  const handleBlur: FocusEventHandler<HTMLDivElement> = (e) => {\n    let updateValue;\n    const internalFloatValue = parseFloat(internalInputValue as string);\n    if (internalInputValue === '') {\n      updateValue = undefined;\n    } else if (!Number.isNaN(internalFloatValue)) {\n      updateValue = getRangeValue(internalFloatValue);\n    } else {\n      const checkVal = (internalInputValue as string).replace(/[^0-9]/gi, '');\n      updateValue = checkVal;\n      if (!checkVal) {\n        updateValue = value;\n      }\n    }\n    onBlur?.(updateValue, { e });\n    setInputValue((updateValue ?? '').toString());\n    setError(false);\n\n    if (updateValue !== value) {\n      triggerValueUpdate({ value: updateValue, e, type: '' });\n    }\n  };\n  const handleFocus: FocusEventHandler<HTMLDivElement> = (e) => onFocus?.(decimalValue, { e });\n  const handleKeydownEnter: KeyboardEventHandler<HTMLDivElement> = (e) => {\n    e.key === 'Enter' && onEnter?.(decimalValue, { e });\n  };\n  const handleKeydown: KeyboardEventHandler<HTMLDivElement> = (e) => {\n    onKeydown?.(decimalValue, { e });\n    handleKeydownEnter(e);\n  };\n  const handleKeyup: KeyboardEventHandler<HTMLDivElement> = (e) => onKeyup?.(decimalValue, { e });\n  const handleKeypress: KeyboardEventHandler<HTMLDivElement> = (e) => onKeypress?.(decimalValue, { e });\n\n  return (\n    <div\n      ref={ref}\n      className={classNames(className, inputClassName, commonClassNames.SIZE[size], {\n        [commonClassNames.STATUS.disabled]: disabled,\n        [`${classPrefix}-is-controls-right`]: theme === 'column',\n        [`${inputClassName}--${theme}`]: theme,\n      })}\n      style={style}\n      onBlur={handleBlur}\n      onFocus={handleFocus}\n      onKeyDown={handleKeydown}\n      onKeyUp={handleKeyup}\n      onKeyPress={handleKeypress}\n    >\n      {theme !== 'normal' && (\n        <StepHandler\n          prefixClassName={inputClassName}\n          theme={theme}\n          disabledDecrease={disabledDecrease}\n          disabledIncrease={disabledIncrease}\n          onStep={onInternalStep}\n        />\n      )}\n      <Input\n        disabled={disabled}\n        value={internalInputValue}\n        onChange={onInternalInput}\n        status={isError ? 'error' : undefined}\n        {...restInputProps}\n      />\n    </div>\n  );\n});\n\nInputNumber.displayName = 'InputNumber';\n\nexport default InputNumber;\n"],"names":["InputNumber","forwardRef","props","ref","className","style","defaultValue","value","disabled","size","theme","step","max","Number","MAX_SAFE_INTEGER","min","MIN_SAFE_INTEGER","decimalPlaces","format","onChange","onBlur","onFocus","onEnter","onKeydown","onKeyup","onKeypress","restInputProps","useConfig","classPrefix","commonClassNames","useCommonClassName","componentType","inputClassName","getRangeValue","value2","useState","initialValue","numberUtils","internalInputValue","setInternalInputValue","decimalValue","setInputValue","inputStr","includes","formattedInputValue","isError","setError","disabledDecrease","disabledIncrease","isOutOfRange","number","checkInput","hasError","stepPrecision","useMemo","getPrecision","useCallback","str","numberPrecision","Math","useEffect","useUpdateEffect","toString","triggerValueUpdate","action","context","onInternalInput","e","type","filteredInputStr","isNaN","onInternalStep","currentValue","precision","updateValue","toFixed","preventDefault","handleBlur","internalFloatValue","parseFloat","checkVal","replace","handleFocus","handleKeydownEnter","key","handleKeydown","handleKeyup","handleKeypress","React","createElement","classNames","SIZE","STATUS","onKeyDown","onKeyUp","onKeyPress","StepHandler","prefixClassName","onStep","Input","status","displayName"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAcMA,WAAW,gBAAGC,UAAU,CAAC,UAACC,KAAD,EAAQC,GAAR,EAAgB;AAAA;;AAC7C,MACEC,SADF,GAqBIF,KArBJ,CACEE,SADF;AAAA,MAEEC,KAFF,GAqBIH,KArBJ,CAEEG,KAFF;AAAA,MAGEC,YAHF,GAqBIJ,KArBJ,CAGEI,YAHF;AAAA,MAIEC,KAJF,GAqBIL,KArBJ,CAIEK,KAJF;AAAA,wBAqBIL,KArBJ,CAKEM,QALF;AAAA,MAKEA,QALF,gCAKa,KALb;AAAA,oBAqBIN,KArBJ,CAMEO,IANF;AAAA,MAMEA,IANF,4BAMS,QANT;AAAA,qBAqBIP,KArBJ,CAOEQ,KAPF;AAAA,MAOEA,KAPF,6BAOU,KAPV;AAAA,oBAqBIR,KArBJ,CAQES,IARF;AAAA,MAQEA,IARF,4BAQS,CART;AAAA,mBAqBIT,KArBJ,CASEU,GATF;AAAA,MASEA,GATF,2BASQC,MAAM,CAACC,gBATf;AAAA,mBAqBIZ,KArBJ,CAUEa,GAVF;AAAA,MAUEA,GAVF,2BAUQF,MAAM,CAACG,gBAVf;AAAA,MAWEC,aAXF,GAqBIf,KArBJ,CAWEe,aAXF;AAAA,MAYEC,MAZF,GAqBIhB,KArBJ,CAYEgB,MAZF;AAAA,MAaEC,QAbF,GAqBIjB,KArBJ,CAaEiB,QAbF;AAAA,MAcEC,MAdF,GAqBIlB,KArBJ,CAcEkB,MAdF;AAAA,MAeEC,OAfF,GAqBInB,KArBJ,CAeEmB,OAfF;AAAA,MAgBEC,OAhBF,GAqBIpB,KArBJ,CAgBEoB,OAhBF;AAAA,MAiBEC,SAjBF,GAqBIrB,KArBJ,CAiBEqB,SAjBF;AAAA,MAkBEC,OAlBF,GAqBItB,KArBJ,CAkBEsB,OAlBF;AAAA,MAmBEC,UAnBF,GAqBIvB,KArBJ,CAmBEuB,UAnBF;AAAA,MAoBKC,cApBL,4BAqBIxB,KArBJ;;AAsBA,mBAAwByB,SAAS,EAAjC;AAAA,MAAQC,WAAR,cAAQA,WAAR;;AACA,MAAMC,gBAAgB,GAAGC,kBAAkB,EAA3C;AACA,MAAMC,aAAa,GAAG,cAAtB;AACA,MAAMC,cAAc,aAAMJ,WAAN,cAAqBG,aAArB,CAApB;;AACA,MAAME,aAAa,GAAG,SAAhBA,aAAgB,CAACC,MAAD,EAAY;AAChC,QAAIA,MAAM,GAAGnB,GAAb,EACE,OAAOA,GAAP;AACF,QAAImB,MAAM,GAAGtB,GAAb,EACE,OAAOA,GAAP;AACF,WAAOsB,MAAP;AACD,GAND;;AAOA,kBAAoDC,QAAQ,CAAC,YAAM;AACjE,QAAIC,YAAY,GAAG,EAAnB;;AACA,QAAI,CAACC,eAAA,CAA4B/B,YAA5B,CAAL,EAAgD;AAC9C8B,MAAAA,YAAY,GAAGH,aAAa,CAACpB,MAAM,CAACP,YAAD,CAAP,CAA5B;AACD;;AACD,QAAI,CAAC+B,eAAA,CAA4B9B,KAA5B,CAAL,EAAyC;AACvC6B,MAAAA,YAAY,GAAG7B,KAAf;AACD;;AACD,QAAIW,MAAM,IAAIkB,YAAY,KAAK,EAA/B,EAAmC;AACjC,aAAOlB,MAAM,CAACe,aAAa,CAACpB,MAAM,CAACuB,YAAD,CAAP,CAAd,CAAN,IAA+C,EAAtD;AACD;;AACD,WAAOA,YAAP;AACD,GAZ2D,CAA5D;AAAA;AAAA,MAAOE,kBAAP;AAAA,MAA2BC,qBAA3B;;AAaA,MAAIC,YAAY,GAAGF,kBAAnB;;AACA,MAAI,OAAOA,kBAAP,KAA8B,QAAlC,EAA4C;AAC1CE,IAAAA,YAAY,GAAGH,WAAA,CAAwBC,kBAAxB,KAA+C,CAA9D;AACD;;AACD,MAAMG,aAAa,GAAG,SAAhBA,aAAgB,CAACC,QAAD,EAAc;AAAA;;AAClC,QAAI,CAAC,EAAD,EAAK,KAAK,CAAV,EAAaC,QAAb,CAAsBD,QAAtB,CAAJ,EAAqC;AACnC,aAAOH,qBAAqB,CAAC,EAAD,CAA5B;AACD;;AACD,QAAMK,mBAAmB,cAAG1B,MAAH,aAAGA,MAAH,uBAAGA,MAAM,CAAGL,MAAM,CAAC6B,QAAD,CAAT,CAAT,6CAAiCA,QAA1D;AACAH,IAAAA,qBAAqB,CAACK,mBAAD,CAArB;AACD,GAND;;AAOA,mBAA4BT,QAAQ,CAAC,KAAD,CAApC;AAAA;AAAA,MAAOU,OAAP;AAAA,MAAgBC,QAAhB;;AACA,MAAMC,gBAAgB,GAAGvC,QAAQ,IAAIqC,OAAZ,IAAuBL,YAAY,GAAG7B,IAAf,GAAsBI,GAAtE;AACA,MAAMiC,gBAAgB,GAAGxC,QAAQ,IAAIqC,OAAZ,IAAuBL,YAAY,GAAG7B,IAAf,GAAsBC,GAAtE;;AACA,MAAMqC,YAAY,GAAG,SAAfA,YAAe,CAACC,MAAD;AAAA,WAAYA,MAAM,GAAGtC,GAAT,IAAgBsC,MAAM,GAAGnC,GAArC;AAAA,GAArB;;AACA,MAAMoC,UAAU,GAAG,SAAbA,UAAa,CAACT,QAAD,EAAc;AAC/B,QAAIA,QAAQ,KAAK,EAAjB,EAAqB;AACnBI,MAAAA,QAAQ,CAAC,KAAD,CAAR;AACA,aAAO,IAAP;AACD;;AACD,QAAMM,QAAQ,GAAGf,eAAA,CAA4BK,QAA5B,KAAyCO,YAAY,CAACpC,MAAM,CAAC6B,QAAD,CAAP,CAAtE;AACAI,IAAAA,QAAQ,CAACM,QAAD,CAAR;AACA,WAAO,CAACA,QAAR;AACD,GARD;;AASA,MAAMC,aAAa,GAAGC,OAAO,CAAC;AAAA,WAAMjB,kBAAA,CAA+B1B,IAA/B,CAAN;AAAA,GAAD,EAA6C,CAACA,IAAD,CAA7C,CAA7B;AACA,MAAM4C,YAAY,GAAGC,WAAW,CAAC,UAACC,GAAD,EAAS;AACxC,QAAMC,eAAe,GAAGrB,kBAAA,CAA+BoB,GAA/B,CAAxB;AACA,WAAOxC,aAAP,aAAOA,aAAP,cAAOA,aAAP,GAAwB0C,IAAI,CAAC/C,GAAL,CAAS8C,eAAT,EAA0BL,aAA1B,CAAxB;AACD,GAH+B,EAG7B,CAACA,aAAD,EAAgBpC,aAAhB,CAH6B,CAAhC;AAIA2C,EAAAA,SAAS,CAAC,YAAM;AACd,QAAIrD,KAAK,KAAK,KAAK,CAAnB,EAAsB;AACpB4C,MAAAA,UAAU,CAAC5C,KAAD,CAAV;AACD;AACF,GAJQ,EAIN,CAACA,KAAD,CAJM,CAAT;AAKAsD,EAAAA,eAAe,CAAC,YAAM;AACpBpB,IAAAA,aAAa,CAAC,CAAClC,KAAD,aAACA,KAAD,cAACA,KAAD,GAAU,EAAV,EAAcuD,QAAd,EAAD,CAAb;AACD,GAFc,EAEZ,CAACvD,KAAD,CAFY,CAAf;;AAGA,MAAMwD,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,MAAD,EAAY;AACrC,QAAe9B,MAAf,GAAsC8B,MAAtC,CAAQzD,KAAR;AAAA,QAA0B0D,OAA1B,4BAAsCD,MAAtC;;AACA,QAAI,CAACxD,QAAL,EAAe;AACbW,MAAAA,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAGe,MAAH,EAAW+B,OAAX,CAAR;AACD;AACF,GALD;;AAMA,MAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACxB,QAAD,QAAqB;AAAA,QAARyB,CAAQ,QAARA,CAAQ;;AAC3C,QAAIzB,QAAQ,KAAK,EAAjB,EAAqB;AACnBD,MAAAA,aAAa,CAACC,QAAD,CAAb;AACA,aAAOqB,kBAAkB,CAAC;AAAEK,QAAAA,IAAI,EAAE,OAAR;AAAiB7D,QAAAA,KAAK,EAAE,KAAK,CAA7B;AAAgC4D,QAAAA,CAAC,EAADA;AAAhC,OAAD,CAAzB;AACD;;AACD,QAAME,gBAAgB,GAAGhC,WAAA,CAAwBK,QAAxB,CAAzB;;AACA,QAAI7B,MAAM,CAACyD,KAAP,CAAaD,gBAAb,CAAJ,EAAoC;AAClC9B,MAAAA,qBAAqB,CAACG,QAAD,CAArB;AACA,UAAI,CAACS,UAAU,CAACT,QAAD,CAAf,EACE;AACH;;AACDD,IAAAA,aAAa,CAAC4B,gBAAgB,CAACP,QAAjB,EAAD,CAAb;AACA,QAAI,CAACX,UAAU,CAACkB,gBAAD,CAAf,EACE;AACFN,IAAAA,kBAAkB,CAAC;AAAEK,MAAAA,IAAI,EAAE,OAAR;AAAiB7D,MAAAA,KAAK,EAAE8D,gBAAxB;AAA0CF,MAAAA,CAAC,EAADA;AAA1C,KAAD,CAAlB;AACD,GAfD;;AAgBA,MAAMI,cAAc,GAAG,SAAjBA,cAAiB,CAACP,MAAD,EAAY;AACjC,QAAQI,IAAR,GAAoBJ,MAApB,CAAQI,IAAR;AAAA,QAAcD,CAAd,GAAoBH,MAApB,CAAcG,CAAd;AACA,QAAMK,YAAY,GAAGhC,YAAY,IAAI,CAArC;AACA,QAAMiC,SAAS,GAAGlB,YAAY,CAACiB,YAAD,CAA9B;AACA,QAAIE,WAAJ;;AACA,YAAQN,IAAR;AACE,WAAK,KAAL;AAAY;AACVM,UAAAA,WAAW,GAAG7D,MAAM,CAAC,CAAC2D,YAAY,GAAG7D,IAAhB,EAAsBgE,OAAtB,CAA8BF,SAA9B,CAAD,CAApB;AACA;AACD;;AACD,WAAK,QAAL;AAAe;AACbC,UAAAA,WAAW,GAAG7D,MAAM,CAAC,CAAC2D,YAAY,GAAG7D,IAAhB,EAAsBgE,OAAtB,CAA8BF,SAA9B,CAAD,CAApB;AACA;AACD;AARH;;AAUAhC,IAAAA,aAAa,CAACiC,WAAD,CAAb;AACAX,IAAAA,kBAAkB,CAAC;AAAExD,MAAAA,KAAK,EAAEmE,WAAT;AAAsBN,MAAAA,IAAI,EAAJA,IAAtB;AAA4BD,MAAAA,CAAC,EAADA;AAA5B,KAAD,CAAlB;AACAA,IAAAA,CAAC,CAACS,cAAF;AACD,GAlBD;;AAmBA,MAAMC,UAAU,GAAG,SAAbA,UAAa,CAACV,CAAD,EAAO;AAAA;;AACxB,QAAIO,WAAJ;AACA,QAAMI,kBAAkB,GAAGC,UAAU,CAACzC,kBAAD,CAArC;;AACA,QAAIA,kBAAkB,KAAK,EAA3B,EAA+B;AAC7BoC,MAAAA,WAAW,GAAG,KAAK,CAAnB;AACD,KAFD,MAEO,IAAI,CAAC7D,MAAM,CAACyD,KAAP,CAAaQ,kBAAb,CAAL,EAAuC;AAC5CJ,MAAAA,WAAW,GAAGzC,aAAa,CAAC6C,kBAAD,CAA3B;AACD,KAFM,MAEA;AACL,UAAME,QAAQ,GAAG1C,kBAAkB,CAAC2C,OAAnB,CAA2B,UAA3B,EAAuC,EAAvC,CAAjB;AACAP,MAAAA,WAAW,GAAGM,QAAd;;AACA,UAAI,CAACA,QAAL,EAAe;AACbN,QAAAA,WAAW,GAAGnE,KAAd;AACD;AACF;;AACDa,IAAAA,MAAM,SAAN,IAAAA,MAAM,WAAN,YAAAA,MAAM,CAAGsD,WAAH,EAAgB;AAAEP,MAAAA,CAAC,EAADA;AAAF,KAAhB,CAAN;AACA1B,IAAAA,aAAa,CAAC,iBAACiC,WAAD,uDAAgB,EAAhB,EAAoBZ,QAApB,EAAD,CAAb;AACAhB,IAAAA,QAAQ,CAAC,KAAD,CAAR;;AACA,QAAI4B,WAAW,KAAKnE,KAApB,EAA2B;AACzBwD,MAAAA,kBAAkB,CAAC;AAAExD,QAAAA,KAAK,EAAEmE,WAAT;AAAsBP,QAAAA,CAAC,EAADA,CAAtB;AAAyBC,QAAAA,IAAI,EAAE;AAA/B,OAAD,CAAlB;AACD;AACF,GApBD;;AAqBA,MAAMc,WAAW,GAAG,SAAdA,WAAc,CAACf,CAAD;AAAA,WAAO9C,OAAP,aAAOA,OAAP,uBAAOA,OAAO,CAAGmB,YAAH,EAAiB;AAAE2B,MAAAA,CAAC,EAADA;AAAF,KAAjB,CAAd;AAAA,GAApB;;AACA,MAAMgB,kBAAkB,GAAG,SAArBA,kBAAqB,CAAChB,CAAD,EAAO;AAChCA,IAAAA,CAAC,CAACiB,GAAF,KAAU,OAAV,KAAqB9D,OAArB,aAAqBA,OAArB,uBAAqBA,OAAO,CAAGkB,YAAH,EAAiB;AAAE2B,MAAAA,CAAC,EAADA;AAAF,KAAjB,CAA5B;AACD,GAFD;;AAGA,MAAMkB,aAAa,GAAG,SAAhBA,aAAgB,CAAClB,CAAD,EAAO;AAC3B5C,IAAAA,SAAS,SAAT,IAAAA,SAAS,WAAT,YAAAA,SAAS,CAAGiB,YAAH,EAAiB;AAAE2B,MAAAA,CAAC,EAADA;AAAF,KAAjB,CAAT;AACAgB,IAAAA,kBAAkB,CAAChB,CAAD,CAAlB;AACD,GAHD;;AAIA,MAAMmB,WAAW,GAAG,SAAdA,WAAc,CAACnB,CAAD;AAAA,WAAO3C,OAAP,aAAOA,OAAP,uBAAOA,OAAO,CAAGgB,YAAH,EAAiB;AAAE2B,MAAAA,CAAC,EAADA;AAAF,KAAjB,CAAd;AAAA,GAApB;;AACA,MAAMoB,cAAc,GAAG,SAAjBA,cAAiB,CAACpB,CAAD;AAAA,WAAO1C,UAAP,aAAOA,UAAP,uBAAOA,UAAU,CAAGe,YAAH,EAAiB;AAAE2B,MAAAA,CAAC,EAADA;AAAF,KAAjB,CAAjB;AAAA,GAAvB;;AACA,wBAAuBqB,KAAK,CAACC,aAAN,CAAoB,KAApB,EAA2B;AAChDtF,IAAAA,GAAG,EAAHA,GADgD;AAEhDC,IAAAA,SAAS,EAAEsF,UAAU,CAACtF,SAAD,EAAY4B,cAAZ,EAA4BH,gBAAgB,CAAC8D,IAAjB,CAAsBlF,IAAtB,CAA5B,kDAClBoB,gBAAgB,CAAC+D,MAAjB,CAAwBpF,QADN,EACiBA,QADjB,0CAEfoB,WAFe,yBAEmBlB,KAAK,KAAK,QAF7B,0CAGfsB,cAHe,eAGItB,KAHJ,GAGcA,KAHd,gBAF2B;AAOhDL,IAAAA,KAAK,EAALA,KAPgD;AAQhDe,IAAAA,MAAM,EAAEyD,UARwC;AAShDxD,IAAAA,OAAO,EAAE6D,WATuC;AAUhDW,IAAAA,SAAS,EAAER,aAVqC;AAWhDS,IAAAA,OAAO,EAAER,WAXuC;AAYhDS,IAAAA,UAAU,EAAER;AAZoC,GAA3B,EAapB7E,KAAK,KAAK,QAAV,mBAAsC8E,KAAK,CAACC,aAAN,CAAoBO,WAApB,EAAiC;AACxEC,IAAAA,eAAe,EAAEjE,cADuD;AAExEtB,IAAAA,KAAK,EAALA,KAFwE;AAGxEqC,IAAAA,gBAAgB,EAAhBA,gBAHwE;AAIxEC,IAAAA,gBAAgB,EAAhBA,gBAJwE;AAKxEkD,IAAAA,MAAM,EAAE3B;AALgE,GAAjC,CAblB,iBAmBHiB,KAAK,CAACC,aAAN,CAAoBU,KAApB;AAClB3F,IAAAA,QAAQ,EAARA,QADkB;AAElBD,IAAAA,KAAK,EAAE+B,kBAFW;AAGlBnB,IAAAA,QAAQ,EAAE+C,eAHQ;AAIlBkC,IAAAA,MAAM,EAAEvD,OAAO,GAAG,OAAH,GAAa,KAAK;AAJf,KAKfnB,cALe,EAnBG,CAAvB;AA0BD,CAtL6B;AAuL9B1B,WAAW,CAACqG,WAAZ,GAA0B,aAA1B;;;;"}