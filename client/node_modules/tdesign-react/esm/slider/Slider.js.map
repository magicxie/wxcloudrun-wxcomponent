{"version":3,"file":"Slider.js","sources":["../../src/slider/Slider.tsx"],"sourcesContent":["import React, { forwardRef, useMemo, useRef } from 'react';\nimport classNames from 'classnames';\nimport { TdSliderProps } from './type';\nimport useConfig from '../_util/useConfig';\nimport useDefault from '../_util/useDefault';\nimport { numberToPencent } from './utils/handleNumber';\nimport { StyledProps, TNode } from '../common';\nimport InputNumber from '../input-number/InputNumber';\nimport SliderHandleButton from './SliderHandleButton';\nimport { accAdd } from '../_util/number';\n\nexport type SliderProps = TdSliderProps & StyledProps;\n\nconst LEFT_NODE = 0;\nconst RIGHT_NODE = 1;\ntype SliderHandleNode = typeof LEFT_NODE | typeof RIGHT_NODE;\n\nconst Slider = forwardRef<HTMLDivElement, SliderProps>(\n  (\n    {\n      disabled,\n      inputNumberProps = true,\n      label,\n      layout = 'horizontal',\n      marks,\n      max = 100,\n      min = 0,\n      range,\n      step = 1,\n      tooltipProps,\n      value: propsValue,\n      defaultValue,\n      onChange,\n      className,\n      style,\n    },\n    ref,\n  ) => {\n    const { classPrefix } = useConfig();\n    const sliderRef = useRef<HTMLDivElement>();\n    const [value, setValue] = useDefault(propsValue, defaultValue, onChange);\n    const isVertical = layout === 'vertical';\n\n    const renderVaule = Array.isArray(value) ? value : [min, value];\n    const start = (renderVaule[LEFT_NODE] - min) / (max - min);\n    const width = (renderVaule[RIGHT_NODE] - renderVaule[LEFT_NODE]) / (max - min);\n    const end = start + width;\n\n    const dots: { value: number; label: TNode; position: number }[] = useMemo(() => {\n      // 当 marks 为数字数组\n      if (Array.isArray(marks)) {\n        if (marks.find((mark) => typeof mark !== 'number')) {\n          console.warn('The props \"marks\" only support number!');\n          return [];\n        }\n        return marks.map((mark) => ({\n          value: mark,\n          position: (mark - min) / max,\n          label: mark,\n        }));\n      }\n      // 当 marks 为对象\n      if (marks && typeof marks === 'object') {\n        const result = [];\n        // eslint-disable-next-line guard-for-in\n        for (const key in marks) {\n          const numberKey = Number(key);\n          if (typeof numberKey !== 'number' || !numberKey) {\n            console.warn('The props \"marks\" key only support number!');\n          } else {\n            result.push({\n              value: numberKey,\n              label: marks[numberKey],\n              position: (numberKey - min) / max,\n            });\n          }\n        }\n        return result;\n      }\n      return [];\n    }, [max, min, marks]);\n\n    const allDots = useMemo(() => {\n      // 默认\n      const result = [];\n      for (let i = min; i <= max; i = accAdd(i, step)) {\n        result.push({\n          value: i,\n          position: (i - min) / (max - min),\n        });\n      }\n      return result;\n    }, [max, min, step]);\n\n    const startDirection = isVertical ? 'bottom' : 'left';\n    const stepDirection = isVertical ? 'top' : 'left';\n    const sizeKey = isVertical ? 'height' : 'width';\n    const renderDots = isVertical ? dots.map((item) => ({ ...item, position: 1 - item.position })) : dots;\n\n    const handleInputChange = (newValue: number, nodeIndex: SliderHandleNode) => {\n      const safeValue = Number(newValue.toFixed(32));\n      let resultValue = Math.max(Math.min(max, safeValue), min);\n      // 判断是否出现左值大于右值\n      if (nodeIndex === LEFT_NODE && safeValue > value[RIGHT_NODE]) resultValue = value[RIGHT_NODE];\n      // 判断是否出现右值大于左值\n      if (nodeIndex === RIGHT_NODE && safeValue < value[LEFT_NODE]) resultValue = value[LEFT_NODE];\n      if (Array.isArray(value)) {\n        const arrValue = value.slice();\n        arrValue[nodeIndex] = resultValue;\n        setValue(arrValue);\n      } else {\n        setValue(resultValue);\n      }\n    };\n\n    const createInput = (nodeIndex: SliderHandleNode) => {\n      const inputProps = typeof inputNumberProps === 'object' ? inputNumberProps : {};\n      const currentValue = renderVaule[nodeIndex];\n\n      return (\n        <InputNumber\n          theme=\"normal\"\n          value={currentValue}\n          onChange={(value: number) => handleInputChange(Number(value), nodeIndex)}\n          className={classNames(`${classPrefix}-slider-input`, {\n            'is-vertical': isVertical,\n          })}\n          disabled={disabled}\n          {...inputProps}\n        />\n      );\n    };\n\n    const nearbyValueChange = (value: number) => {\n      const buttonBias =\n        Math.abs(value - renderVaule[LEFT_NODE]) > Math.abs(value - renderVaule[RIGHT_NODE]) ? RIGHT_NODE : LEFT_NODE;\n      handleInputChange(value, buttonBias);\n    };\n\n    const setPosition = (position: number, nodeIndex?: SliderHandleNode) => {\n      let index = 0;\n      let minDistance = 1;\n      for (let i = 0; i < allDots.length; i++) {\n        const diff = Math.abs(allDots[i].position - position);\n        if (minDistance > diff) {\n          index = i;\n          minDistance = diff;\n        }\n      }\n      const { value } = allDots[index];\n      if (nodeIndex === undefined && range) {\n        nearbyValueChange(value);\n      } else {\n        handleInputChange(value, nodeIndex);\n      }\n    };\n\n    const onSliderChange = (event: React.MouseEvent | MouseEvent, nodeIndex?: SliderHandleNode) => {\n      const clientKey = isVertical ? 'clientY' : 'clientX';\n      const sliderPositionInfo = sliderRef.current.getBoundingClientRect();\n      const sliderOffset = sliderPositionInfo[startDirection];\n      const position = ((event[clientKey] - sliderOffset) / sliderPositionInfo[sizeKey]) * (isVertical ? -1 : 1);\n      setPosition(position, nodeIndex);\n    };\n\n    const handleClickMarks = (event: React.MouseEvent, value: number) => {\n      event.stopPropagation();\n      nearbyValueChange(value);\n    };\n\n    const createHandleButton = (nodeIndex: SliderHandleNode, style: React.CSSProperties) => {\n      const currentValue = renderVaule[nodeIndex];\n      // 模板替换\n      let tipLabel = typeof label === 'string' ? label.replace(/\\$\\{value\\}/g, currentValue.toString()) : label;\n      if (tipLabel === true || !tipLabel) tipLabel = currentValue;\n\n      return (\n        <SliderHandleButton\n          toolTipProps={{\n            disabled: label === false,\n            content: tipLabel,\n            ...tooltipProps,\n          }}\n          classPrefix={classPrefix}\n          style={style}\n          onChange={(e) => onSliderChange(e, nodeIndex)}\n        />\n      );\n    };\n\n    return (\n      <div\n        style={{ ...style }}\n        className={classNames(`${classPrefix}-slider__container`, {\n          'is-vertical': isVertical,\n        })}\n        ref={ref}\n      >\n        <div\n          ref={sliderRef}\n          className={classNames(className, `${classPrefix}-slider`, {\n            [`${classPrefix}-is-disabled`]: disabled,\n            [`${classPrefix}-slider--vertical`]: isVertical,\n            [`${classPrefix}-slider--with-input`]: inputNumberProps,\n          })}\n          onClick={onSliderChange}\n        >\n          <div className={classNames(`${classPrefix}-slider__rail`)}>\n            <div\n              style={{ [startDirection]: numberToPencent(start), [sizeKey]: numberToPencent(width) }}\n              className={classNames(`${classPrefix}-slider__track`)}\n            ></div>\n            {range ? createHandleButton(LEFT_NODE, { [startDirection]: numberToPencent(start) }) : null}\n            {createHandleButton(RIGHT_NODE, { [startDirection]: numberToPencent(end) })}\n            <div className={classNames(`${classPrefix}-slider__step`)}>\n              {renderDots.map(({ position, value }) => (\n                <div\n                  key={value}\n                  style={{ [stepDirection]: numberToPencent(position) }}\n                  className={classNames(`${classPrefix}-slider__stop`)}\n                ></div>\n              ))}\n            </div>\n            <div className={classNames(`${classPrefix}-slider__mark`)}>\n              {renderDots.map(({ position, value, label }) => (\n                <div\n                  key={value}\n                  onClick={(event) => handleClickMarks(event, value)}\n                  style={{ [stepDirection]: numberToPencent(position) }}\n                  className={classNames(`${classPrefix}-slider__mark-text`)}\n                >\n                  {label}\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n        {inputNumberProps ? (\n          <div\n            className={classNames(`${classPrefix}-slider__input-container`, {\n              'is-vertical': isVertical,\n            })}\n          >\n            {range && createInput(LEFT_NODE)}\n            {createInput(RIGHT_NODE)}\n          </div>\n        ) : null}\n      </div>\n    );\n  },\n);\n\nSlider.displayName = 'Slider';\n\nexport default Slider;\n"],"names":["LEFT_NODE","RIGHT_NODE","Slider","forwardRef","ref","disabled","inputNumberProps","label","layout","marks","max","min","range","step","tooltipProps","propsValue","value","defaultValue","onChange","className","style","useConfig","classPrefix","sliderRef","useRef","useDefault","setValue","isVertical","renderVaule","Array","isArray","start","width","end","dots","useMemo","find","mark","console","warn","map","position","result","key","numberKey","Number","push","allDots","i","accAdd","startDirection","stepDirection","sizeKey","renderDots","item","handleInputChange","newValue","nodeIndex","safeValue","toFixed","resultValue","Math","arrValue","slice","createInput","inputProps","currentValue","React","createElement","InputNumber","theme","value2","classNames","nearbyValueChange","buttonBias","abs","setPosition","index","minDistance","length","diff","onSliderChange","event","clientKey","sliderPositionInfo","current","getBoundingClientRect","sliderOffset","handleClickMarks","stopPropagation","createHandleButton","style2","tipLabel","replace","toString","SliderHandleButton","toolTipProps","content","e","onClick","numberToPencent","label2","displayName"],"mappings":"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"}