{"version":3,"file":"TabNavItem.js","sources":["../../src/tabs/TabNavItem.tsx"],"sourcesContent":["import React, { MouseEvent, useRef } from 'react';\nimport classNames from 'classnames';\nimport { CloseIcon } from 'tdesign-icons-react';\nimport useRipple from '../_util/useRipple';\nimport { TdTabPanelProps, TdTabsProps } from './type';\nimport noop from '../_util/noop';\nimport { useTabClass } from './useTabClass';\n\nexport interface TabNavItemProps extends TdTabPanelProps {\n  // 当前 item 是否处于激活态\n  isActive: boolean;\n  // 点击事件\n  onClick: (e: MouseEvent) => void;\n  theme: 'normal' | 'card';\n  placement: string;\n  size?: 'medium' | 'large';\n  index: number;\n  onTabRemove: TdTabsProps['onRemove'];\n}\n\nconst TabNavItem: React.FC<TabNavItemProps> = (props) => {\n  const {\n    label,\n    removable,\n    isActive,\n    onClick = noop,\n    theme,\n    placement,\n    onRemove = noop,\n    value,\n    size = 'medium',\n    disabled = false,\n    index,\n    onTabRemove = noop,\n  } = props;\n\n  const isCard = theme === 'card';\n\n  // 样式变量和常量定义\n  const { tdTabsClassGenerator, tdClassGenerator, tdSizeClassGenerator } = useTabClass();\n  const rippleRef = useRef();\n  useRipple(rippleRef);\n\n  return (\n    <div\n      onClick={disabled ? noop : onClick}\n      className={classNames(\n        tdTabsClassGenerator('nav-item'),\n        isCard ? tdTabsClassGenerator('nav--card') : '',\n        tdSizeClassGenerator(size),\n        isActive ? tdClassGenerator('is-active') : '',\n        tdClassGenerator(`is-${placement}`),\n        disabled ? tdClassGenerator('is-disabled') : '',\n      )}\n    >\n      {/* 根据新的 dom 结构和样式进行改动，卡片类型情况下不需要 nav-item-wrapper 这个 div */}\n      {isCard ? (\n        <span className={classNames(tdTabsClassGenerator('nav-item-text-wrapper'))}>{label}</span>\n      ) : (\n        <div ref={rippleRef} className={classNames(tdTabsClassGenerator('nav-item-wrapper'))}>\n          <span className={classNames(tdTabsClassGenerator('nav-item-text-wrapper'))}>{label}</span>\n        </div>\n      )}\n      {removable ? (\n        <CloseIcon\n          className={classNames('remove-btn')}\n          onClick={(e) => {\n            if (disabled) {\n              return;\n            }\n            e.stopPropagation();\n            onRemove({ value, e });\n            onTabRemove({ value, e, index });\n          }}\n        />\n      ) : null}\n    </div>\n  );\n};\n\nexport default TabNavItem;\n"],"names":["TabNavItem","props","label","removable","isActive","onClick","noop","theme","placement","onRemove","value","size","disabled","index","onTabRemove","isCard","useTabClass","tdTabsClassGenerator","tdClassGenerator","tdSizeClassGenerator","rippleRef","useRef","useRipple","React","createElement","className","classNames","ref","CloseIcon","e","stopPropagation"],"mappings":"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"}