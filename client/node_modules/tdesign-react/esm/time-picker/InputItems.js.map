{"version":3,"file":"InputItems.js","sources":["../../src/time-picker/InputItems.tsx"],"sourcesContent":["import React, { FC, useCallback, useEffect, useState } from 'react';\nimport classNames from 'classnames';\nimport dayjs from 'dayjs';\nimport padStart from 'lodash/padStart';\n\nimport { TdTimePickerProps, TdTimeRangePickerProps } from './type';\nimport useConfig from '../_util/useConfig';\nimport { useTimePickerTextConfig } from './consts';\nimport { KeyboardDirection, EPickerCols } from './interfaces';\n\nconst preposFormat = /^(a|A)\\s+?[h]{1,2}(:[m]{1,2}(:[s]{1,2})?)?$/;\nconst postposFormat = /^[h]{1,2}(:[m]{1,2}(:[s]{1,2})?)?(\\s+(a|A))?$/;\nconst secondRegExp = /[hH]{1,2}:m{1,2}:s{1,2}/;\nconst minRegExp = /[hH]{1,2}:m{1,2}/;\nexport interface TimePickerInputItemsProps\n  extends Pick<TdTimePickerProps, 'allowInput' | 'format'>,\n    Pick<TdTimeRangePickerProps, 'placeholder' | 'disabled'> {\n  value: TdTimeRangePickerProps['value'] | TdTimePickerProps['value'];\n  onBlur: TdTimeRangePickerProps['onBlur'] | TdTimePickerProps['onBlur'];\n  onFocus: TdTimeRangePickerProps['onFocus'] | TdTimePickerProps['onFocus'];\n  onInput: TdTimeRangePickerProps['onInput'] | TdTimePickerProps['onInput'];\n  onChange: TdTimeRangePickerProps['onChange'] | TdTimePickerProps['onChange'];\n}\n\nconst TimePickerInputItems: FC<TimePickerInputItemsProps> = (props: TimePickerInputItemsProps) => {\n  const { allowInput, format, disabled, value, onBlur, onChange, onFocus, onInput } = props;\n\n  const { classPrefix } = useConfig();\n  const inputItemClass = `${classPrefix}-time-picker__input`;\n  const itemClasses = classNames(`${inputItemClass}-item`, {\n    [`${inputItemClass}-item-disabled`]: disabled,\n  });\n  const inputClass = `${inputItemClass}-item-input`;\n\n  const isRangePicker = Array.isArray(value) && value.length > 1;\n  const [startTime, endTime] = [...value];\n\n  const [formatedValue, changeFormatedValue] = useState<\n    [Record<EPickerCols, string>, Record<EPickerCols, string>] | undefined\n  >(undefined);\n\n  useEffect(() => {\n    if (!startTime) return;\n    const dayjsValue = dayjs(startTime, format);\n    const hour = /[h]{1}/.test(format) ? dayjsValue.hour() % 12 : dayjsValue.hour();\n    const minute = dayjsValue.minute();\n    const second = dayjsValue.second();\n\n    changeFormatedValue((preVal) => [\n      {\n        hour: padStart(String(hour), 2, '0'),\n        minute: padStart(String(minute), 2, '0'),\n        second: padStart(String(second), 2, '0'),\n        meridiem: dayjsValue.format('a'),\n      },\n      preVal?.[1],\n    ]);\n  }, [startTime, format]);\n\n  useEffect(() => {\n    if (!endTime) return;\n    const dayjsValue = dayjs(endTime, format);\n    const hour = /[h]{1}/.test(format) ? dayjsValue.hour() % 12 : dayjsValue.hour();\n    const minute = dayjsValue.minute();\n    const second = dayjsValue.second();\n\n    changeFormatedValue((preVal) => [\n      preVal[0],\n      {\n        hour: padStart(String(hour), 2, '0'),\n        minute: padStart(String(minute), 2, '0'),\n        second: padStart(String(second), 2, '0'),\n        meridiem: dayjsValue.format('a'),\n      },\n    ]);\n  }, [endTime, format]);\n\n  const handleInputChange = useCallback(\n    (type: EPickerCols, result: number | string, index?: number) => {\n      if (!isRangePicker) {\n        const currentDayjsValue = dayjs(startTime, format);\n        onChange(currentDayjsValue[type]?.(result).format(format));\n      } else {\n        let currentDayjsValue: dayjs.Dayjs;\n        if (index === 0) {\n          currentDayjsValue = dayjs(startTime, format)[type]?.(result).format(format);\n          onChange([currentDayjsValue, endTime] as any);\n        } else {\n          currentDayjsValue = dayjs(endTime, format)[type]?.(result).format(format);\n          onChange([startTime, currentDayjsValue] as any);\n        }\n      }\n    },\n    [format, onChange, startTime, isRangePicker, endTime],\n  );\n\n  // handle keyboard event\n  const handleInputKeydown = useCallback(\n    (e: any, type: EPickerCols, index?: number) => {\n      if (!allowInput) return;\n      const { up, down, left, right } = KeyboardDirection;\n      // TODO: `which` is deprecated\n      const { which } = e;\n\n      // handle plus and reduce\n      if ([up, down].includes(which)) {\n        if (type === EPickerCols.meridiem) return;\n\n        const timeValue = formatedValue?.[index]?.[type];\n        const current = timeValue ? Number(timeValue) : 0;\n        const operate = which === up ? -1 : 1;\n        let result = current + operate;\n\n        if (type === EPickerCols.hour) {\n          const maxHour = /[h]{1}/.test(format) ? 11 : 23;\n          if (result > maxHour) {\n            result = 0;\n          } else if (result < 0) {\n            result = maxHour;\n          }\n        } else if (result > 59) {\n          result = 1;\n        } else if (result < 0) {\n          result = 59;\n        }\n        handleInputChange(type, result, index);\n      } else if ([left, right].includes(which)) {\n        // move to pre/next input area item\n        const parentNode = e.target?.parentNode;\n        const focus = which === left ? parentNode.previousSibling : parentNode.nextSibling;\n\n        if (focus) {\n          const input = focus.querySelector?.('input');\n          if (input?.focus) input.focus();\n        }\n      }\n    },\n    [allowInput, format, formatedValue, handleInputChange],\n  );\n\n  const TEXT_CONFIG = useTimePickerTextConfig();\n\n  // render meridiem col input\n  function renderMeridiemItem(text: string) {\n    return (\n      <span className={itemClasses}>\n        <input\n          readOnly\n          disabled={!allowInput}\n          value={TEXT_CONFIG[text] || ''}\n          onKeyDown={(e) => handleInputKeydown(e, EPickerCols.meridiem)}\n          className={classNames(inputClass, `${inputClass}-meridiem`)}\n        />\n      </span>\n    );\n  }\n\n  // render hour/minute/second cols input\n  function renderTimeItem(\n    inputValue: string,\n    type: Exclude<EPickerCols, 'meridiem'>,\n    showColon: boolean,\n    index: number,\n  ) {\n    const propsValue = isRangePicker ? value : value[0];\n    return (\n      <span className={itemClasses}>\n        {showColon ? ':' : null}\n        <input\n          value={inputValue || ''}\n          className={inputClass}\n          disabled={!allowInput}\n          onKeyDown={(e) => handleInputKeydown(e, type, index)}\n          onInput={(e) => onInput({ e, input: inputValue, value: propsValue as any })}\n          onChange={(e) => handleInputChange(type, e?.target?.value)}\n          onBlur={(e) => onBlur({ e, trigger: type, input: inputValue, value: propsValue as any })}\n          onFocus={(e) => onFocus({ e, trigger: type, input: inputValue, value: propsValue as any })}\n        />\n      </span>\n    );\n  }\n\n  function renderItems(itemValue: Record<EPickerCols, string>, index: number) {\n    return (\n      <>\n        {preposFormat.test(format) && renderMeridiemItem(itemValue?.meridiem)}\n        {renderTimeItem(itemValue?.hour, EPickerCols.hour, false, index)}\n        {minRegExp.test(format) ? renderTimeItem(itemValue?.minute, EPickerCols.minute, true, index) : null}\n        {secondRegExp.test(format) ? renderTimeItem(itemValue?.second, EPickerCols.second, true, index) : null}\n        {postposFormat.test(format) && renderMeridiemItem(itemValue?.meridiem)}\n      </>\n    );\n  }\n\n  return (\n    <div className={inputItemClass}>\n      {isRangePicker ? (\n        <>\n          {renderItems(formatedValue?.[0], 0)} - {renderItems(formatedValue?.[1], 1)}\n        </>\n      ) : (\n        renderItems(formatedValue?.[0], 0)\n      )}\n    </div>\n  );\n};\n\nexport default TimePickerInputItems;\n"],"names":["preposFormat","postposFormat","secondRegExp","minRegExp","TimePickerInputItems","props","allowInput","format","disabled","value","onBlur","onChange","onFocus","onInput","useConfig","classPrefix","inputItemClass","itemClasses","classNames","inputClass","isRangePicker","Array","isArray","length","startTime","endTime","useState","formatedValue","changeFormatedValue","useEffect","dayjsValue","dayjs","hour","test","minute","second","preVal","padStart","String","meridiem","handleInputChange","useCallback","type","result","index","currentDayjsValue","handleInputKeydown","e","up","KeyboardDirection","down","left","right","which","includes","EPickerCols","timeValue","current","Number","operate","maxHour","parentNode","target","focus","previousSibling","nextSibling","input","querySelector","TEXT_CONFIG","useTimePickerTextConfig","renderMeridiemItem","text","React","createElement","className","readOnly","onKeyDown","renderTimeItem","inputValue","showColon","propsValue","trigger","renderItems","itemValue","Fragment"],"mappings":"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"}