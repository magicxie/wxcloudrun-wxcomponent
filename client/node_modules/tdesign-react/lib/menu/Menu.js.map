{"version":3,"file":"Menu.js","sources":["../../src/menu/Menu.tsx"],"sourcesContent":["import React from 'react';\nimport classNames from 'classnames';\nimport useConfig from '../_util/useConfig';\nimport { StyledProps } from '../common';\nimport { TdMenuProps } from './type';\nimport forwardRefWithStatics from '../_util/forwardRefWithStatics';\nimport { MenuContext } from './MenuContext';\nimport { DEFAULT_MENU_WIDTH } from './_util/constant';\nimport useMenuContext from './hooks/useMenuContext';\n\nimport HeadMenu from './HeadMenu';\nimport SubMenu from './SubMenu';\nimport MenuItem from './MenuItem';\nimport MenuGroup from './MenuGroup';\n\nexport interface MenuProps extends TdMenuProps, StyledProps {\n  children?: React.ReactNode;\n}\n\nconst Menu = forwardRefWithStatics(\n  (props: MenuProps, ref) => {\n    const { className, width = DEFAULT_MENU_WIDTH, children, theme, logo, operations, style } = props;\n    const { classPrefix } = useConfig();\n    const { value } = useMenuContext({ ...props, children, mode: 'accordion' });\n\n    // 菜单宽度\n    const menuWidthArr = Array.isArray(width) ? width : [width, DEFAULT_MENU_WIDTH[1]];\n\n    const { collapsed } = value;\n\n    return (\n      <MenuContext.Provider value={value}>\n        <div\n          ref={ref}\n          className={classNames(className, `${classPrefix}-default-menu`, {\n            [`${classPrefix}-is-collapsed`]: collapsed,\n            [`${classPrefix}-menu--dark`]: theme === 'dark',\n          })}\n          style={{ width: collapsed ? menuWidthArr[1] : menuWidthArr[0], ...style }}\n        >\n          <div className={`${classPrefix}-default-menu__inner`}>\n            {logo && <div className={`${classPrefix}-menu__logo`}>{logo}</div>}\n            <ul className={classNames(`${classPrefix}-menu`, { [`${classPrefix}-menu--scroll`]: !collapsed })}>\n              {children}\n            </ul>\n            {operations && <div className={`${classPrefix}-menu__operations`}>{operations}</div>}\n          </div>\n        </div>\n      </MenuContext.Provider>\n    );\n  },\n  { HeadMenu, SubMenu, MenuItem, MenuGroup },\n);\n\nMenu.displayName = 'Menu';\n\nexport default Menu;\n"],"names":["Menu","forwardRefWithStatics","props","ref","className","width","DEFAULT_MENU_WIDTH","children","theme","logo","operations","style","useConfig","classPrefix","useMenuContext","mode","value","menuWidthArr","Array","isArray","collapsed","React","createElement","MenuContext","Provider","classNames","HeadMenu","SubMenu","MenuItem","MenuGroup","displayName"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAWMA,IAAI,GAAGC,qBAAqB,CAAC,UAACC,KAAD,EAAQC,GAAR,EAAgB;AAAA;;AACjD,MAAQC,SAAR,GAA4FF,KAA5F,CAAQE,SAAR;AAAA,qBAA4FF,KAA5F,CAAmBG,KAAnB;AAAA,MAAmBA,KAAnB,6BAA2BC,kBAA3B;AAAA,MAA+CC,QAA/C,GAA4FL,KAA5F,CAA+CK,QAA/C;AAAA,MAAyDC,KAAzD,GAA4FN,KAA5F,CAAyDM,KAAzD;AAAA,MAAgEC,IAAhE,GAA4FP,KAA5F,CAAgEO,IAAhE;AAAA,MAAsEC,UAAtE,GAA4FR,KAA5F,CAAsEQ,UAAtE;AAAA,MAAkFC,KAAlF,GAA4FT,KAA5F,CAAkFS,KAAlF;;AACA,mBAAwBC,SAAS,EAAjC;AAAA,MAAQC,WAAR,cAAQA,WAAR;;AACA,wBAAkBC,cAAc,iCAAMZ,KAAN;AAAaK,IAAAA,QAAQ,EAARA,QAAb;AAAuBQ,IAAAA,IAAI,EAAE;AAA7B,KAAhC;AAAA,MAAQC,KAAR,mBAAQA,KAAR;;AACA,MAAMC,YAAY,GAAGC,KAAK,CAACC,OAAN,CAAcd,KAAd,IAAuBA,KAAvB,GAA+B,CAACA,KAAD,EAAQC,kBAAkB,CAAC,CAAD,CAA1B,CAApD;AACA,MAAQc,SAAR,GAAsBJ,KAAtB,CAAQI,SAAR;AACA,wBAAuBC,KAAK,CAACC,aAAN,CAAoBC,WAAW,CAACC,QAAhC,EAA0C;AAC/DR,IAAAA,KAAK,EAALA;AAD+D,GAA1C,iBAEJK,KAAK,CAACC,aAAN,CAAoB,KAApB,EAA2B;AAC5CnB,IAAAA,GAAG,EAAHA,GAD4C;AAE5CC,IAAAA,SAAS,EAAEqB,UAAU,CAACrB,SAAD,YAAeS,WAAf,8EACfA,WADe,oBACcO,SADd,0CAEfP,WAFe,kBAEYL,KAAK,KAAK,MAFtB,gBAFuB;AAM5CG,IAAAA,KAAK;AAAIN,MAAAA,KAAK,EAAEe,SAAS,GAAGH,YAAY,CAAC,CAAD,CAAf,GAAqBA,YAAY,CAAC,CAAD;AAArD,OAA6DN,KAA7D;AANuC,GAA3B,iBAOAU,KAAK,CAACC,aAAN,CAAoB,KAApB,EAA2B;AAC5ClB,IAAAA,SAAS,YAAKS,WAAL;AADmC,GAA3B,EAEhBJ,IAAI,mBAAoBY,KAAK,CAACC,aAAN,CAAoB,KAApB,EAA2B;AACpDlB,IAAAA,SAAS,YAAKS,WAAL;AAD2C,GAA3B,EAExBJ,IAFwB,CAFR,iBAIOY,KAAK,CAACC,aAAN,CAAoB,IAApB,EAA0B;AAClDlB,IAAAA,SAAS,EAAEqB,UAAU,WAAIZ,WAAJ,0CAA8BA,WAA9B,oBAA2D,CAACO,SAA5D;AAD6B,GAA1B,EAEvBb,QAFuB,CAJP,EAMLG,UAAU,mBAAoBW,KAAK,CAACC,aAAN,CAAoB,KAApB,EAA2B;AACrElB,IAAAA,SAAS,YAAKS,WAAL;AAD4D,GAA3B,EAEzCH,UAFyC,CANzB,CAPA,CAFI,CAAvB;AAkBD,CAxBiC,EAwB/B;AAAEgB,EAAAA,QAAQ,EAARA,QAAF;AAAYC,EAAAA,OAAO,EAAPA,OAAZ;AAAqBC,EAAAA,QAAQ,EAARA,QAArB;AAA+BC,EAAAA,SAAS,EAATA;AAA/B,CAxB+B;AAyBlC7B,IAAI,CAAC8B,WAAL,GAAmB,MAAnB;;;;"}