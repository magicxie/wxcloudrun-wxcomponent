{"version":3,"file":"MessageClose.js","sources":["../../src/message/MessageClose.tsx"],"sourcesContent":["/**\n * @author kenzyyang\n * @date 2021-05-11 20:01:45\n * @desc message 关闭按钮组件\n */\nimport React from 'react';\n\nimport classNames from 'classnames';\nimport { CloseIcon } from 'tdesign-icons-react';\nimport { TdMessageProps } from './type';\nimport { useMessageClass } from './useMessageClass';\n\nexport default function MessageClose({ closeBtn, onCloseBtnClick }: TdMessageProps) {\n  const { tdMessageClassGenerator } = useMessageClass();\n\n  // falseLike 类型表明不展示 close\n  if (!closeBtn) {\n    return null;\n  }\n\n  if (typeof closeBtn === 'function') {\n    return React.cloneElement(closeBtn(), {\n      className: classNames(closeBtn().props.className, tdMessageClassGenerator('close')),\n    });\n  }\n\n  // 数字 字符串类型封装 span 标签\n  if (typeof closeBtn === 'string' || typeof closeBtn === 'number') {\n    return (\n      <span className={tdMessageClassGenerator('close')} onClick={(e) => onCloseBtnClick?.({ e })}>\n        {closeBtn}\n      </span>\n    );\n  }\n\n  // 组件或者 dom 节点 加上 close 样式\n  if (React.isValidElement(closeBtn)) {\n    return React.cloneElement(closeBtn, {\n      className: classNames(closeBtn.props.className, tdMessageClassGenerator('close')),\n    });\n  }\n\n  // 否则使用默认的关闭按钮样式\n  return <CloseIcon className={tdMessageClassGenerator('close')} />;\n}\n"],"names":["MessageClose","closeBtn","onCloseBtnClick","useMessageClass","tdMessageClassGenerator","React","cloneElement","className","classNames","props","createElement","onClick","e","isValidElement","CloseIcon"],"mappings":";;;;;;;;;;;;;;AAIe,SAASA,YAAT,OAAqD;AAAA,MAA7BC,QAA6B,QAA7BA,QAA6B;AAAA,MAAnBC,eAAmB,QAAnBA,eAAmB;;AAClE,yBAAoCC,eAAe,EAAnD;AAAA,MAAQC,uBAAR,oBAAQA,uBAAR;;AACA,MAAI,CAACH,QAAL,EAAe;AACb,WAAO,IAAP;AACD;;AACD,MAAI,OAAOA,QAAP,KAAoB,UAAxB,EAAoC;AAClC,wBAAOI,KAAK,CAACC,YAAN,CAAmBL,QAAQ,EAA3B,EAA+B;AACpCM,MAAAA,SAAS,EAAEC,UAAU,CAACP,QAAQ,GAAGQ,KAAX,CAAiBF,SAAlB,EAA6BH,uBAAuB,CAAC,OAAD,CAApD;AADe,KAA/B,CAAP;AAGD;;AACD,MAAI,OAAOH,QAAP,KAAoB,QAApB,IAAgC,OAAOA,QAAP,KAAoB,QAAxD,EAAkE;AAChE,0BAAuBI,KAAK,CAACK,aAAN,CAAoB,MAApB,EAA4B;AACjDH,MAAAA,SAAS,EAAEH,uBAAuB,CAAC,OAAD,CADe;AAEjDO,MAAAA,OAAO,EAAE,iBAACC,CAAD;AAAA,eAAOV,eAAP,aAAOA,eAAP,uBAAOA,eAAe,CAAG;AAAEU,UAAAA,CAAC,EAADA;AAAF,SAAH,CAAtB;AAAA;AAFwC,KAA5B,EAGpBX,QAHoB,CAAvB;AAID;;AACD,oBAAII,KAAK,CAACQ,cAAN,CAAqBZ,QAArB,CAAJ,EAAoC;AAClC,wBAAOI,KAAK,CAACC,YAAN,CAAmBL,QAAnB,EAA6B;AAClCM,MAAAA,SAAS,EAAEC,UAAU,CAACP,QAAQ,CAACQ,KAAT,CAAeF,SAAhB,EAA2BH,uBAAuB,CAAC,OAAD,CAAlD;AADa,KAA7B,CAAP;AAGD;;AACD,wBAAuBC,KAAK,CAACK,aAAN,CAAoBI,SAApB,EAA+B;AACpDP,IAAAA,SAAS,EAAEH,uBAAuB,CAAC,OAAD;AADkB,GAA/B,CAAvB;AAGD;;;;"}