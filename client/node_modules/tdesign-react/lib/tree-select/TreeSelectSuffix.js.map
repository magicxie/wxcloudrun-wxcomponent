{"version":3,"file":"TreeSelectSuffix.js","sources":["../../src/tree-select/TreeSelectSuffix.tsx"],"sourcesContent":["import React, { useMemo } from 'react';\nimport classNames from 'classnames';\nimport isEmpty from 'lodash/isEmpty';\n\nimport { CloseCircleFilledIcon } from 'tdesign-icons-react';\nimport { TdTreeSelectProps, TreeSelectValue } from './type';\nimport useConfig from '../_util/useConfig';\nimport FakeArrow from '../common/FakeArrow';\nimport Loading from '../loading';\n\nexport interface TreeSelectSuffixProps extends TdTreeSelectProps {\n  visible: boolean;\n  isHover: boolean;\n  showLoading: boolean;\n  handleClear: React.MouseEventHandler<SVGSVGElement>;\n}\n\nexport default function TreeSelectSuffix(props: TreeSelectSuffixProps) {\n  const { visible, isHover, handleClear, showLoading, clearable, multiple, value, disabled, size } = props;\n  const { classPrefix } = useConfig();\n\n  const showArrow: boolean = useMemo(\n    () =>\n      !clearable ||\n      !isHover ||\n      disabled ||\n      (!multiple && !value && value !== 0) ||\n      (multiple && Array.isArray(value) && isEmpty(value)),\n    [clearable, isHover, disabled, multiple, value],\n  );\n\n  const showClose: boolean = useMemo(\n    () =>\n      clearable &&\n      isHover &&\n      !disabled &&\n      ((!multiple && (!!value || value === 0)) || (multiple && !isEmpty(value as Array<TreeSelectValue>))),\n    [clearable, isHover, disabled, multiple, value],\n  );\n\n  return (\n    <>\n      {showArrow && !showLoading && (\n        <FakeArrow overlayClassName={`${classPrefix}-select__right-icon`} isActive={visible} disabled={disabled} />\n      )}\n      {showClose && !showLoading && (\n        <CloseCircleFilledIcon\n          className={`${classPrefix}-select__right-icon ${classPrefix}-select__right-icon-clear`}\n          size={size}\n          onClick={handleClear}\n        />\n      )}\n      {showLoading && (\n        <Loading\n          loading={true}\n          className={classNames(`${classPrefix}-select__right-icon`, `${classPrefix}-select__active-icon`)}\n          size=\"small\"\n        />\n      )}\n    </>\n  );\n}\n"],"names":["TreeSelectSuffix","props","visible","isHover","handleClear","showLoading","clearable","multiple","value","disabled","size","useConfig","classPrefix","showArrow","useMemo","Array","isArray","isEmpty","showClose","React","createElement","Fragment","FakeArrow","overlayClassName","isActive","CloseCircleFilledIcon","className","onClick","Loading","loading","classNames"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOe,SAASA,gBAAT,CAA0BC,KAA1B,EAAiC;AAC9C,MAAQC,OAAR,GAAmGD,KAAnG,CAAQC,OAAR;AAAA,MAAiBC,OAAjB,GAAmGF,KAAnG,CAAiBE,OAAjB;AAAA,MAA0BC,WAA1B,GAAmGH,KAAnG,CAA0BG,WAA1B;AAAA,MAAuCC,WAAvC,GAAmGJ,KAAnG,CAAuCI,WAAvC;AAAA,MAAoDC,SAApD,GAAmGL,KAAnG,CAAoDK,SAApD;AAAA,MAA+DC,QAA/D,GAAmGN,KAAnG,CAA+DM,QAA/D;AAAA,MAAyEC,KAAzE,GAAmGP,KAAnG,CAAyEO,KAAzE;AAAA,MAAgFC,QAAhF,GAAmGR,KAAnG,CAAgFQ,QAAhF;AAAA,MAA0FC,IAA1F,GAAmGT,KAAnG,CAA0FS,IAA1F;;AACA,mBAAwBC,SAAS,EAAjC;AAAA,MAAQC,WAAR,cAAQA,WAAR;;AACA,MAAMC,SAAS,GAAGC,OAAO,CAAC;AAAA,WAAM,CAACR,SAAD,IAAc,CAACH,OAAf,IAA0BM,QAA1B,IAAsC,CAACF,QAAD,IAAa,CAACC,KAAd,IAAuBA,KAAK,KAAK,CAAvE,IAA4ED,QAAQ,IAAIQ,KAAK,CAACC,OAAN,CAAcR,KAAd,CAAZ,IAAoCS,SAAO,CAACT,KAAD,CAA7H;AAAA,GAAD,EAAuI,CAACF,SAAD,EAAYH,OAAZ,EAAqBM,QAArB,EAA+BF,QAA/B,EAAyCC,KAAzC,CAAvI,CAAzB;AACA,MAAMU,SAAS,GAAGJ,OAAO,CAAC;AAAA,WAAMR,SAAS,IAAIH,OAAb,IAAwB,CAACM,QAAzB,KAAsC,CAACF,QAAD,KAAc,CAAC,CAACC,KAAF,IAAWA,KAAK,KAAK,CAAnC,KAAyCD,QAAQ,IAAI,CAACU,SAAO,CAACT,KAAD,CAAnG,CAAN;AAAA,GAAD,EAAoH,CAACF,SAAD,EAAYH,OAAZ,EAAqBM,QAArB,EAA+BF,QAA/B,EAAyCC,KAAzC,CAApH,CAAzB;AACA,wBAAuBW,KAAK,CAACC,aAAN,CAAoBD,KAAK,CAACE,QAA1B,EAAoC,IAApC,EAA0CR,SAAS,IAAI,CAACR,WAAd,mBAA6Cc,KAAK,CAACC,aAAN,CAAoBE,SAApB,EAA+B;AAC3IC,IAAAA,gBAAgB,YAAKX,WAAL,wBAD2H;AAE3IY,IAAAA,QAAQ,EAAEtB,OAFiI;AAG3IO,IAAAA,QAAQ,EAARA;AAH2I,GAA/B,CAAvF,EAInBS,SAAS,IAAI,CAACb,WAAd,mBAA6Cc,KAAK,CAACC,aAAN,CAAoBK,qBAApB,EAA2C;AAC1FC,IAAAA,SAAS,YAAKd,WAAL,iCAAuCA,WAAvC,8BADiF;AAE1FF,IAAAA,IAAI,EAAJA,IAF0F;AAG1FiB,IAAAA,OAAO,EAAEvB;AAHiF,GAA3C,CAJ1B,EAQnBC,WAAW,mBAAoBc,KAAK,CAACC,aAAN,CAAoBQ,OAApB,EAA6B;AAC9DC,IAAAA,OAAO,EAAE,IADqD;AAE9DH,IAAAA,SAAS,EAAEI,UAAU,WAAIlB,WAAJ,oCAAyCA,WAAzC,0BAFyC;AAG9DF,IAAAA,IAAI,EAAE;AAHwD,GAA7B,CARZ,CAAvB;AAaD;;;;"}