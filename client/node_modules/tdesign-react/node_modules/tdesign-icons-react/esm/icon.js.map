{"version":3,"file":"icon.js","sources":["../src/icon.tsx"],"sourcesContent":["import classNames from 'classnames';\nimport {\n  createElement,\n  forwardRef,\n  ForwardRefExoticComponent,\n  ReactElement,\n  Ref,\n  RefAttributes,\n  SVGAttributes,\n  CSSProperties,\n} from 'react';\nimport useSizeProps from './util/use-size-props';\n\nexport interface IconProps extends SVGAttributes<SVGSVGElement> {\n  style?: CSSProperties;\n  className?: string;\n  size?: 'small' | 'middle' | 'large' | string | number;\n}\nexport interface Attrs {\n  [key: string]: any;\n}\nexport interface IconElement {\n  tag: string;\n  attrs: Attrs;\n  children?: IconElement[];\n}\nexport interface IconFulfilledProps extends IconProps {\n  icon: IconElement;\n  id: string;\n}\n\n/**\n * use react createElement to render an IconElement with other props\n */\nfunction render(node: IconElement, id: string, rootProps?: { [key: string]: any }): ReactElement {\n  return createElement(\n    node.tag,\n    {\n      key: id,\n      ...node.attrs,\n      ...rootProps,\n    },\n    (node.children || []).map((child, index) => render(child, `${id}-${node.tag}-${index}`)),\n  );\n}\n\n// https://github.com/DefinitelyTyped/DefinitelyTyped/issues/34757\nexport type CompoundedComponent = ForwardRefExoticComponent<IconFulfilledProps & RefAttributes<SVGElement>>;\n\nexport const IconBase = forwardRef((props: IconFulfilledProps, ref: Ref<SVGElement>) => {\n  const {\n    icon, id, className, size, style, ...restProps\n  } = props;\n  const { className: sizeClassName, style: sizeStyle } = useSizeProps(size);\n  const cls = classNames('t-icon', `t-icon-${id}`, className, sizeClassName);\n\n  return render(icon, `${id}`, {\n    ref,\n    className: cls,\n    style: { ...style, ...sizeStyle },\n    ...restProps,\n  });\n}) as CompoundedComponent;\n\nIconBase.displayName = 'TIconBase';\n"],"names":["node","id","rootProps","createElement","tag","key","attrs","children","map","child","index","render","IconBase","forwardRef","props","ref","icon","className","size","style","restProps","sizeClassName","sizeStyle","useSizeProps","cls","classNames","displayName"],"mappings":";;;;;;;;;;;;;AAkCA,eAAA,CAAgBA,IAAhB,EAAmCC,EAAnC,EAA+CC,SAA/C,EAAiG;SACxFC,cACLH,KAAKI;AAEHC,IAAAA,KAAKJ;KACFD,KAAKM,QACLJ,YAEJ,MAAKK,YAAY,EAAjB,EAAqBC,GAArB,CAAyB,CAACC,KAAD,EAAQC,KAAR,KAAkBC,OAAOF,iBAAUR,gBAAMD,KAAKI,iBAAOM,OAA9E;;;IAOQE,WAAWC,WAAW,CAACC,KAAD,EAA4BC,GAA5B,KAAqD;MAChF;AACJC,IAAAA,IADI;AACEf,IAAAA,EADF;AACMgB,IAAAA,SADN;AACiBC,IAAAA,IADjB;AACuBC,IAAAA;AADvB,MAEFL;MADmCM,qCACnCN;;MACE;AAAEG,IAAAA,WAAWI,aAAb;AAA4BF,IAAAA,OAAOG;AAAnC,MAAiDC,aAAaL;MAC9DM,MAAMC,WAAW,2BAAoBxB,KAAMgB,WAAWI;SAErDV,OAAOK,gBAASf;AACrBc,IAAAA;AACAE,IAAAA,WAAWO;AACXL,IAAAA,uCAAYA,QAAUG;KACnBF;;AAIPR,SAASc,WAAT,GAAuB,WAAvB;;;;"}